#!/bin/bash

echo "Running 'tsc -p tsconfig.strict.json'..."
echo ""

OUTPUT=$(yarn ts-strict-build 2> /dev/null | grep error | grep frontend | grep --invert-match --fixed-strings --file=.ts-strict-blacklist)

if test -z "${OUTPUT}"
then
    echo "No new typescript errors found! ðŸš€"
    exit 0
else
    echo "Found new typescript errors! ðŸ’¥"
    echo "${OUTPUT}"
    exit 1
fi
