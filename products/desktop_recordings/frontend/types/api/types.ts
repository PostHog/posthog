/* eslint-disable */
/**
 * Generated by orval v7.16.1 üç∫
 * Do not edit manually.
 * PostHog API - desktop_recordings
 * OpenAPI spec version: 1.0.0
 */
import { apiMutator } from '../../../../../frontend/src/lib/api-orval-mutator'

// https://stackoverflow.com/questions/49579094/typescript-conditional-types-filter-out-readonly-properties-pick-only-requir/49579497#49579497
type IfEquals<X, Y, A = X, B = never> = (<T>() => T extends X ? 1 : 2) extends <T>() => T extends Y ? 1 : 2 ? A : B

type WritableKeys<T> = {
    [P in keyof T]-?: IfEquals<{ [Q in P]: T[P] }, { -readonly [Q in P]: T[P] }, P>
}[keyof T]

type UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends (k: infer I) => void ? I : never
type DistributeReadOnlyOverUnions<T> = T extends any ? NonReadonly<T> : never

type Writable<T> = Pick<T, WritableKeys<T>>
type NonReadonly<T> = [T] extends [UnionToIntersection<T>]
    ? {
          [P in keyof Writable<T>]: T[P] extends object ? NonReadonly<NonNullable<T[P]>> : T[P]
      }
    : DistributeReadOnlyOverUnions<T>

export interface PaginatedDesktopRecordingList {
    count: number
    /** @nullable */
    next?: string | null
    /** @nullable */
    previous?: string | null
    results: DesktopRecording[]
}

/**
 * Request body for creating a new recording
 */
export interface CreateRecordingRequest {
    /** Meeting platform being recorded

* `zoom` - zoom
* `teams` - teams
* `meet` - meet
* `desktop_audio` - desktop_audio
* `slack` - slack */
    platform?: CreateRecordingRequestPlatformEnum
}

/**
 * Response for creating a new recording (includes upload_token)
 */
export interface CreateRecordingResponse {
    readonly id: string
    readonly team: number
    /** @nullable */
    readonly created_by: number | null
    readonly sdk_upload_id: string
    /** @nullable */
    recall_recording_id?: string | null
    platform: Platform9aaEnum
    /**
     * @maxLength 255
     * @nullable
     */
    meeting_title?: string | null
    /**
     * @maxLength 200
     * @nullable
     */
    meeting_url?: string | null
    /**
     * @minimum -2147483648
     * @maximum 2147483647
     * @nullable
     */
    duration_seconds?: number | null
    status?: Status292Enum
    /** @nullable */
    notes?: string | null
    /** @nullable */
    error_message?: string | null
    /**
     * @maxLength 200
     * @nullable
     */
    video_url?: string | null
    /**
     * @minimum -9223372036854776000
     * @maximum 9223372036854776000
     * @nullable
     */
    video_size_bytes?: number | null
    /** List of participant names */
    participants?: string[]
    readonly transcript_text: string
    /** Transcript segments with timestamps */
    transcript_segments?: TranscriptSegment[]
    /** @nullable */
    summary?: string | null
    /** AI-extracted tasks from transcript */
    extracted_tasks?: Task[]
    /** @nullable */
    tasks_generated_at?: string | null
    /** @nullable */
    summary_generated_at?: string | null
    started_at?: string
    /** @nullable */
    completed_at?: string | null
    readonly created_at: string
    readonly updated_at: string
    /** Recall.ai upload token for the desktop SDK */
    upload_token: string
}

export interface DesktopRecording {
    readonly id: string
    readonly team: number
    /** @nullable */
    readonly created_by: number | null
    readonly sdk_upload_id: string
    /** @nullable */
    recall_recording_id?: string | null
    platform: Platform9aaEnum
    /**
     * @maxLength 255
     * @nullable
     */
    meeting_title?: string | null
    /**
     * @maxLength 200
     * @nullable
     */
    meeting_url?: string | null
    /**
     * @minimum -2147483648
     * @maximum 2147483647
     * @nullable
     */
    duration_seconds?: number | null
    status?: Status292Enum
    /** @nullable */
    notes?: string | null
    /** @nullable */
    error_message?: string | null
    /**
     * @maxLength 200
     * @nullable
     */
    video_url?: string | null
    /**
     * @minimum -9223372036854776000
     * @maximum 9223372036854776000
     * @nullable
     */
    video_size_bytes?: number | null
    /** List of participant names */
    participants?: string[]
    readonly transcript_text: string
    /** Transcript segments with timestamps */
    transcript_segments?: TranscriptSegment[]
    /** @nullable */
    summary?: string | null
    /** AI-extracted tasks from transcript */
    extracted_tasks?: Task[]
    /** @nullable */
    tasks_generated_at?: string | null
    /** @nullable */
    summary_generated_at?: string | null
    started_at?: string
    /** @nullable */
    completed_at?: string | null
    readonly created_at: string
    readonly updated_at: string
}

export interface PatchedDesktopRecording {
    readonly id?: string
    readonly team?: number
    /** @nullable */
    readonly created_by?: number | null
    readonly sdk_upload_id?: string
    /** @nullable */
    recall_recording_id?: string | null
    platform?: Platform9aaEnum
    /**
     * @maxLength 255
     * @nullable
     */
    meeting_title?: string | null
    /**
     * @maxLength 200
     * @nullable
     */
    meeting_url?: string | null
    /**
     * @minimum -2147483648
     * @maximum 2147483647
     * @nullable
     */
    duration_seconds?: number | null
    status?: Status292Enum
    /** @nullable */
    notes?: string | null
    /** @nullable */
    error_message?: string | null
    /**
     * @maxLength 200
     * @nullable
     */
    video_url?: string | null
    /**
     * @minimum -9223372036854776000
     * @maximum 9223372036854776000
     * @nullable
     */
    video_size_bytes?: number | null
    /** List of participant names */
    participants?: string[]
    readonly transcript_text?: string
    /** Transcript segments with timestamps */
    transcript_segments?: TranscriptSegment[]
    /** @nullable */
    summary?: string | null
    /** AI-extracted tasks from transcript */
    extracted_tasks?: Task[]
    /** @nullable */
    tasks_generated_at?: string | null
    /** @nullable */
    summary_generated_at?: string | null
    started_at?: string
    /** @nullable */
    completed_at?: string | null
    readonly created_at?: string
    readonly updated_at?: string
}

/**
 * Serializer for appending transcript segments (supports batched real-time uploads)
 */
export interface AppendSegments {
    /** @minItems 1 */
    segments: TranscriptSegment[]
}

/**
 * * `zoom` - zoom
 * `teams` - teams
 * `meet` - meet
 * `desktop_audio` - desktop_audio
 * `slack` - slack
 */
export type CreateRecordingRequestPlatformEnum =
    (typeof CreateRecordingRequestPlatformEnum)[keyof typeof CreateRecordingRequestPlatformEnum]

// eslint-disable-next-line @typescript-eslint/no-redeclare
export const CreateRecordingRequestPlatformEnum = {
    zoom: 'zoom',
    teams: 'teams',
    meet: 'meet',
    desktop_audio: 'desktop_audio',
    slack: 'slack',
} as const

/**
 * * `zoom` - Zoom
 * `teams` - Microsoft Teams
 * `meet` - Google Meet
 * `desktop_audio` - Desktop audio
 * `slack` - Slack huddle
 */
export type Platform9aaEnum = (typeof Platform9aaEnum)[keyof typeof Platform9aaEnum]

// eslint-disable-next-line @typescript-eslint/no-redeclare
export const Platform9aaEnum = {
    zoom: 'zoom',
    teams: 'teams',
    meet: 'meet',
    desktop_audio: 'desktop_audio',
    slack: 'slack',
} as const

/**
 * * `recording` - Recording
 * `uploading` - Uploading
 * `processing` - Processing
 * `ready` - Ready
 * `error` - Error
 */
export type Status292Enum = (typeof Status292Enum)[keyof typeof Status292Enum]

// eslint-disable-next-line @typescript-eslint/no-redeclare
export const Status292Enum = {
    recording: 'recording',
    uploading: 'uploading',
    processing: 'processing',
    ready: 'ready',
    error: 'error',
} as const

/**
 * Serializer for individual transcript segments from AssemblyAI
 */
export interface TranscriptSegment {
    /**
     * Milliseconds from recording start
     * @nullable
     */
    timestamp?: number | null
    /** @nullable */
    speaker?: string | null
    text: string
    /**
     * Transcription confidence score
     * @nullable
     */
    confidence?: number | null
    /**
     * Whether this is the final version
     * @nullable
     */
    is_final?: boolean | null
}

/**
 * Serializer for extracted tasks
 */
export interface Task {
    title: string
    description?: string
    /** @nullable */
    assignee?: string | null
}

export type EnvironmentsDesktopRecordingsListParams = {
    /**
     * Number of results to return per page.
     */
    limit?: number
    /**
     * The initial index from which to return the results.
     */
    offset?: number
}

/**
 * RESTful API for managing desktop meeting recordings.

Standard CRUD operations plus transcript management as a subresource.
 */
export type environmentsDesktopRecordingsListResponse200 = {
    data: PaginatedDesktopRecordingList
    status: 200
}

export type environmentsDesktopRecordingsListResponseSuccess = environmentsDesktopRecordingsListResponse200 & {
    headers: Headers
}
export type environmentsDesktopRecordingsListResponse = environmentsDesktopRecordingsListResponseSuccess

export const getEnvironmentsDesktopRecordingsListUrl = (
    projectId: string,
    params?: EnvironmentsDesktopRecordingsListParams
) => {
    const normalizedParams = new URLSearchParams()

    Object.entries(params || {}).forEach(([key, value]) => {
        if (value !== undefined) {
            normalizedParams.append(key, value === null ? 'null' : value.toString())
        }
    })

    const stringifiedParams = normalizedParams.toString()

    return stringifiedParams.length > 0
        ? `/api/environments/${projectId}/desktop_recordings/?${stringifiedParams}`
        : `/api/environments/${projectId}/desktop_recordings/`
}

export const environmentsDesktopRecordingsList = async (
    projectId: string,
    params?: EnvironmentsDesktopRecordingsListParams,
    options?: RequestInit
): Promise<environmentsDesktopRecordingsListResponse> => {
    return apiMutator<environmentsDesktopRecordingsListResponse>(
        getEnvironmentsDesktopRecordingsListUrl(projectId, params),
        {
            ...options,
            method: 'GET',
        }
    )
}

/**
 * Create a new recording and get Recall.ai upload token for the desktop SDK
 */
export type environmentsDesktopRecordingsCreateResponse201 = {
    data: CreateRecordingResponse
    status: 201
}

export type environmentsDesktopRecordingsCreateResponseSuccess = environmentsDesktopRecordingsCreateResponse201 & {
    headers: Headers
}
export type environmentsDesktopRecordingsCreateResponse = environmentsDesktopRecordingsCreateResponseSuccess

export const getEnvironmentsDesktopRecordingsCreateUrl = (projectId: string) => {
    return `/api/environments/${projectId}/desktop_recordings/`
}

export const environmentsDesktopRecordingsCreate = async (
    projectId: string,
    createRecordingRequest: CreateRecordingRequest,
    options?: RequestInit
): Promise<environmentsDesktopRecordingsCreateResponse> => {
    return apiMutator<environmentsDesktopRecordingsCreateResponse>(
        getEnvironmentsDesktopRecordingsCreateUrl(projectId),
        {
            ...options,
            method: 'POST',
            headers: { 'Content-Type': 'application/json', ...options?.headers },
            body: JSON.stringify(createRecordingRequest),
        }
    )
}

/**
 * RESTful API for managing desktop meeting recordings.

Standard CRUD operations plus transcript management as a subresource.
 */
export type environmentsDesktopRecordingsRetrieveResponse200 = {
    data: DesktopRecording
    status: 200
}

export type environmentsDesktopRecordingsRetrieveResponseSuccess = environmentsDesktopRecordingsRetrieveResponse200 & {
    headers: Headers
}
export type environmentsDesktopRecordingsRetrieveResponse = environmentsDesktopRecordingsRetrieveResponseSuccess

export const getEnvironmentsDesktopRecordingsRetrieveUrl = (projectId: string, id: string) => {
    return `/api/environments/${projectId}/desktop_recordings/${id}/`
}

export const environmentsDesktopRecordingsRetrieve = async (
    projectId: string,
    id: string,
    options?: RequestInit
): Promise<environmentsDesktopRecordingsRetrieveResponse> => {
    return apiMutator<environmentsDesktopRecordingsRetrieveResponse>(
        getEnvironmentsDesktopRecordingsRetrieveUrl(projectId, id),
        {
            ...options,
            method: 'GET',
        }
    )
}

/**
 * RESTful API for managing desktop meeting recordings.

Standard CRUD operations plus transcript management as a subresource.
 */
export type environmentsDesktopRecordingsUpdateResponse200 = {
    data: DesktopRecording
    status: 200
}

export type environmentsDesktopRecordingsUpdateResponseSuccess = environmentsDesktopRecordingsUpdateResponse200 & {
    headers: Headers
}
export type environmentsDesktopRecordingsUpdateResponse = environmentsDesktopRecordingsUpdateResponseSuccess

export const getEnvironmentsDesktopRecordingsUpdateUrl = (projectId: string, id: string) => {
    return `/api/environments/${projectId}/desktop_recordings/${id}/`
}

export const environmentsDesktopRecordingsUpdate = async (
    projectId: string,
    id: string,
    desktopRecording: NonReadonly<DesktopRecording>,
    options?: RequestInit
): Promise<environmentsDesktopRecordingsUpdateResponse> => {
    return apiMutator<environmentsDesktopRecordingsUpdateResponse>(
        getEnvironmentsDesktopRecordingsUpdateUrl(projectId, id),
        {
            ...options,
            method: 'PUT',
            headers: { 'Content-Type': 'application/json', ...options?.headers },
            body: JSON.stringify(desktopRecording),
        }
    )
}

/**
 * RESTful API for managing desktop meeting recordings.

Standard CRUD operations plus transcript management as a subresource.
 */
export type environmentsDesktopRecordingsPartialUpdateResponse200 = {
    data: DesktopRecording
    status: 200
}

export type environmentsDesktopRecordingsPartialUpdateResponseSuccess =
    environmentsDesktopRecordingsPartialUpdateResponse200 & {
        headers: Headers
    }
export type environmentsDesktopRecordingsPartialUpdateResponse =
    environmentsDesktopRecordingsPartialUpdateResponseSuccess

export const getEnvironmentsDesktopRecordingsPartialUpdateUrl = (projectId: string, id: string) => {
    return `/api/environments/${projectId}/desktop_recordings/${id}/`
}

export const environmentsDesktopRecordingsPartialUpdate = async (
    projectId: string,
    id: string,
    patchedDesktopRecording: NonReadonly<PatchedDesktopRecording>,
    options?: RequestInit
): Promise<environmentsDesktopRecordingsPartialUpdateResponse> => {
    return apiMutator<environmentsDesktopRecordingsPartialUpdateResponse>(
        getEnvironmentsDesktopRecordingsPartialUpdateUrl(projectId, id),
        {
            ...options,
            method: 'PATCH',
            headers: { 'Content-Type': 'application/json', ...options?.headers },
            body: JSON.stringify(patchedDesktopRecording),
        }
    )
}

/**
 * RESTful API for managing desktop meeting recordings.

Standard CRUD operations plus transcript management as a subresource.
 */
export type environmentsDesktopRecordingsDestroyResponse204 = {
    data: void
    status: 204
}

export type environmentsDesktopRecordingsDestroyResponseSuccess = environmentsDesktopRecordingsDestroyResponse204 & {
    headers: Headers
}
export type environmentsDesktopRecordingsDestroyResponse = environmentsDesktopRecordingsDestroyResponseSuccess

export const getEnvironmentsDesktopRecordingsDestroyUrl = (projectId: string, id: string) => {
    return `/api/environments/${projectId}/desktop_recordings/${id}/`
}

export const environmentsDesktopRecordingsDestroy = async (
    projectId: string,
    id: string,
    options?: RequestInit
): Promise<environmentsDesktopRecordingsDestroyResponse> => {
    return apiMutator<environmentsDesktopRecordingsDestroyResponse>(
        getEnvironmentsDesktopRecordingsDestroyUrl(projectId, id),
        {
            ...options,
            method: 'DELETE',
        }
    )
}

/**
 * Append transcript segments (supports batched real-time streaming)
 */
export type environmentsDesktopRecordingsAppendSegmentsCreateResponse200 = {
    data: DesktopRecording
    status: 200
}

export type environmentsDesktopRecordingsAppendSegmentsCreateResponseSuccess =
    environmentsDesktopRecordingsAppendSegmentsCreateResponse200 & {
        headers: Headers
    }
export type environmentsDesktopRecordingsAppendSegmentsCreateResponse =
    environmentsDesktopRecordingsAppendSegmentsCreateResponseSuccess

export const getEnvironmentsDesktopRecordingsAppendSegmentsCreateUrl = (projectId: string, id: string) => {
    return `/api/environments/${projectId}/desktop_recordings/${id}/append_segments/`
}

export const environmentsDesktopRecordingsAppendSegmentsCreate = async (
    projectId: string,
    id: string,
    appendSegments: AppendSegments,
    options?: RequestInit
): Promise<environmentsDesktopRecordingsAppendSegmentsCreateResponse> => {
    return apiMutator<environmentsDesktopRecordingsAppendSegmentsCreateResponse>(
        getEnvironmentsDesktopRecordingsAppendSegmentsCreateUrl(projectId, id),
        {
            ...options,
            method: 'POST',
            headers: { 'Content-Type': 'application/json', ...options?.headers },
            body: JSON.stringify(appendSegments),
        }
    )
}
