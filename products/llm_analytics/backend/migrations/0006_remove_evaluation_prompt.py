# Generated by Django 4.2.22 on 2025-10-28 17:00

from django.db import migrations


class Migration(migrations.Migration):
    dependencies = [
        ("llm_analytics", "0005_evaluation_make_config_required"),
    ]

    operations = [
        # Safe removal of deprecated prompt field using SeparateDatabaseAndState
        # The field was removed from the model, but we keep the column in the database
        # for backwards compatibility during deployment rollout.
        #
        # This follows the safe migration pattern for dropping columns:
        # Phase 1 (this migration): Remove field from Django state, keep in database
        # Phase 2 (future migration): Drop column after one full deployment cycle
        #
        # The prompt data has been migrated to evaluation_config in migration 0004
        migrations.SeparateDatabaseAndState(
            state_operations=[
                migrations.RemoveField(
                    model_name="evaluation",
                    name="prompt",
                ),
            ],
            database_operations=[
                # No database changes - column stays in DB for backwards compatibility
            ],
        ),
    ]
