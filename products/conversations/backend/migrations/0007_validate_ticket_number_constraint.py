# Generated by Django 4.2.26 on 2025-01-16 00:05

from django.db import migrations


class Migration(migrations.Migration):
    """
    Validate the unique constraint on existing rows.
    Uses SHARE UPDATE EXCLUSIVE lock - allows reads/writes, just blocks other schema changes.
    """

    dependencies = [
        ("conversations", "0006_ticket_number_unique_constraint"),
    ]

    operations = [
        migrations.RunSQL(
            sql='ALTER TABLE "posthog_conversations_ticket" VALIDATE CONSTRAINT "unique_ticket_number_per_team";',
            reverse_sql=migrations.RunSQL.noop,
        ),
    ]
