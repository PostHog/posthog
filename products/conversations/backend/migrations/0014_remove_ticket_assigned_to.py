# Generated by Django 4.2.27 on 2026-01-23 18:25

from django.db import migrations


class Migration(migrations.Migration):
    dependencies = [
        ("conversations", "0013_ticket_assignment"),
    ]

    operations = [
        migrations.SeparateDatabaseAndState(
            state_operations=[
                migrations.RemoveField(
                    model_name="ticket",
                    name="assigned_to",
                ),
            ],
            database_operations=[
                # Drop FK constraint to avoid TransactionTestCase TRUNCATE failures
                migrations.RunSQL(
                    sql="ALTER TABLE posthog_conversations_ticket DROP CONSTRAINT IF EXISTS posthog_conversation_assigned_to_id_50d79da9_fk_posthog_u",
                    reverse_sql=migrations.RunSQL.noop,
                ),
                # TODO: drop column in a later migration after this is deployed
            ],
        ),
    ]
