{
    "cache_key": "cache_706c0f86ac6fb7be959adef005474972",
    "cache_target_age": "2025-07-03T01:40:29.017325Z",
    "calculation_trigger": null,
    "columns": null,
    "error": null,
    "hogql": "SELECT\n    revenue_analytics_subscription.source_label AS breakdown_by,\n    toStartOfDay(toDateTime(arrayJoin([toDateTime('2025-05-02 00:00:00.000000'), toDateTime('2025-05-03 00:00:00.000000'), toDateTime('2025-05-04 00:00:00.000000'), toDateTime('2025-05-05 00:00:00.000000'), toDateTime('2025-05-06 00:00:00.000000'), toDateTime('2025-05-07 00:00:00.000000'), toDateTime('2025-05-08 00:00:00.000000'), toDateTime('2025-05-09 00:00:00.000000'), toDateTime('2025-05-10 00:00:00.000000'), toDateTime('2025-05-11 00:00:00.000000'), toDateTime('2025-05-12 00:00:00.000000'), toDateTime('2025-05-13 00:00:00.000000'), toDateTime('2025-05-14 00:00:00.000000'), toDateTime('2025-05-15 00:00:00.000000'), toDateTime('2025-05-16 00:00:00.000000'), toDateTime('2025-05-17 00:00:00.000000'), toDateTime('2025-05-18 00:00:00.000000'), toDateTime('2025-05-19 00:00:00.000000'), toDateTime('2025-05-20 00:00:00.000000'), toDateTime('2025-05-21 00:00:00.000000'), toDateTime('2025-05-22 00:00:00.000000'), toDateTime('2025-05-23 00:00:00.000000'), toDateTime('2025-05-24 00:00:00.000000'), toDateTime('2025-05-25 00:00:00.000000'), toDateTime('2025-05-26 00:00:00.000000'), toDateTime('2025-05-27 00:00:00.000000'), toDateTime('2025-05-28 00:00:00.000000'), toDateTime('2025-05-29 00:00:00.000000'), toDateTime('2025-05-30 00:00:00.000000'), toDateTime('2025-05-31 00:00:00.000000'), toDateTime('2025-06-01 00:00:00.000000'), toDateTime('2025-06-02 00:00:00.000000'), toDateTime('2025-06-03 00:00:00.000000'), toDateTime('2025-06-04 00:00:00.000000'), toDateTime('2025-06-05 00:00:00.000000'), toDateTime('2025-06-06 00:00:00.000000'), toDateTime('2025-06-07 00:00:00.000000'), toDateTime('2025-06-08 00:00:00.000000'), toDateTime('2025-06-09 00:00:00.000000'), toDateTime('2025-06-10 00:00:00.000000'), toDateTime('2025-06-11 00:00:00.000000'), toDateTime('2025-06-12 00:00:00.000000'), toDateTime('2025-06-13 00:00:00.000000'), toDateTime('2025-06-14 00:00:00.000000'), toDateTime('2025-06-15 00:00:00.000000'), toDateTime('2025-06-16 00:00:00.000000'), toDateTime('2025-06-17 00:00:00.000000'), toDateTime('2025-06-18 00:00:00.000000'), toDateTime('2025-06-19 00:00:00.000000'), toDateTime('2025-06-20 00:00:00.000000'), toDateTime('2025-06-21 00:00:00.000000'), toDateTime('2025-06-22 00:00:00.000000'), toDateTime('2025-06-23 00:00:00.000000'), toDateTime('2025-06-24 00:00:00.000000'), toDateTime('2025-06-25 00:00:00.000000'), toDateTime('2025-06-26 00:00:00.000000'), toDateTime('2025-06-27 00:00:00.000000'), toDateTime('2025-06-28 00:00:00.000000'), toDateTime('2025-06-29 00:00:00.000000'), toDateTime('2025-06-30 00:00:00.000000'), toDateTime('2025-07-01 00:00:00.000000'), toDateTime('2025-07-02 00:00:00.000000')]))) AS period_start,\n    countIf(DISTINCT revenue_analytics_subscription.id, and(lessOrEquals(toStartOfDay(started_at), period_start), or(isNull(ended_at), greaterOrEquals(toStartOfDay(ended_at), period_start)))) AS subscription_count,\n    countIf(DISTINCT revenue_analytics_subscription.id, equals(toStartOfDay(started_at), period_start)) AS new_subscription_count,\n    countIf(DISTINCT revenue_analytics_subscription.id, equals(toStartOfDay(ended_at), period_start)) AS churned_subscription_count,\n    countIf(DISTINCT revenue_analytics_subscription.customer_id, and(lessOrEquals(toStartOfDay(started_at), period_start), or(isNull(ended_at), greaterOrEquals(toStartOfDay(ended_at), period_start)))) AS customer_count\nFROM\n    (SELECT\n        id,\n        source_label,\n        timestamp,\n        plan_id,\n        product_id,\n        customer_id,\n        status,\n        started_at,\n        ended_at,\n        current_period_start,\n        current_period_end,\n        metadata\n    FROM\n        (SELECT\n            id AS id,\n            'stripe.prod' AS source_label,\n            created_at AS timestamp,\n            JSONExtractString(plan, 'id') AS plan_id,\n            JSONExtractString(plan, 'product') AS product_id,\n            customer_id AS customer_id,\n            status AS status,\n            created_at AS started_at,\n            ended_at AS ended_at,\n            current_period_start AS current_period_start,\n            current_period_end AS current_period_end,\n            metadata AS metadata\n        FROM\n            `stripe.prod.subscription` AS prodstripe_subscription) AS `stripe.prod.subscription_revenue_view`) AS revenue_analytics_subscription\nGROUP BY\n    breakdown_by,\n    period_start\nORDER BY\n    breakdown_by ASC,\n    period_start ASC,\n    subscription_count DESC,\n    customer_count DESC\nLIMIT 10000",
    "is_cached": true,
    "last_refresh": "2025-07-02T19:40:29.017325Z",
    "modifiers": {
        "bounceRateDurationSeconds": null,
        "bounceRatePageViewMode": "count_pageviews",
        "convertToProjectTimezone": true,
        "customChannelTypeRules": null,
        "dataWarehouseEventsModifiers": null,
        "debug": null,
        "formatCsvAllowDoubleQuotes": null,
        "inCohortVia": "auto",
        "materializationMode": "legacy_null_as_null",
        "optimizeJoinedFilters": false,
        "personsArgMaxVersion": "auto",
        "personsJoinMode": null,
        "personsOnEventsMode": "person_id_override_properties_joined",
        "propertyGroupsMode": null,
        "s3TableUseInvalidColumns": null,
        "sessionTableVersion": "auto",
        "sessionsV2JoinMode": "string",
        "useMaterializedViews": true,
        "usePresortedEventsTable": false,
        "useWebAnalyticsPreAggregatedTables": null
    },
    "next_allowed_client_refresh": "2025-07-02T19:41:29.017325Z",
    "query_status": null,
    "results": [
        {
            "action": {
                "days": [
                    "2025-05-02T00:00:00-03:00",
                    "2025-05-03T00:00:00-03:00",
                    "2025-05-04T00:00:00-03:00",
                    "2025-05-05T00:00:00-03:00",
                    "2025-05-06T00:00:00-03:00",
                    "2025-05-07T00:00:00-03:00",
                    "2025-05-08T00:00:00-03:00",
                    "2025-05-09T00:00:00-03:00",
                    "2025-05-10T00:00:00-03:00",
                    "2025-05-11T00:00:00-03:00",
                    "2025-05-12T00:00:00-03:00",
                    "2025-05-13T00:00:00-03:00",
                    "2025-05-14T00:00:00-03:00",
                    "2025-05-15T00:00:00-03:00",
                    "2025-05-16T00:00:00-03:00",
                    "2025-05-17T00:00:00-03:00",
                    "2025-05-18T00:00:00-03:00",
                    "2025-05-19T00:00:00-03:00",
                    "2025-05-20T00:00:00-03:00",
                    "2025-05-21T00:00:00-03:00",
                    "2025-05-22T00:00:00-03:00",
                    "2025-05-23T00:00:00-03:00",
                    "2025-05-24T00:00:00-03:00",
                    "2025-05-25T00:00:00-03:00",
                    "2025-05-26T00:00:00-03:00",
                    "2025-05-27T00:00:00-03:00",
                    "2025-05-28T00:00:00-03:00",
                    "2025-05-29T00:00:00-03:00",
                    "2025-05-30T00:00:00-03:00",
                    "2025-05-31T00:00:00-03:00",
                    "2025-06-01T00:00:00-03:00",
                    "2025-06-02T00:00:00-03:00",
                    "2025-06-03T00:00:00-03:00",
                    "2025-06-04T00:00:00-03:00",
                    "2025-06-05T00:00:00-03:00",
                    "2025-06-06T00:00:00-03:00",
                    "2025-06-07T00:00:00-03:00",
                    "2025-06-08T00:00:00-03:00",
                    "2025-06-09T00:00:00-03:00",
                    "2025-06-10T00:00:00-03:00",
                    "2025-06-11T00:00:00-03:00",
                    "2025-06-12T00:00:00-03:00",
                    "2025-06-13T00:00:00-03:00",
                    "2025-06-14T00:00:00-03:00",
                    "2025-06-15T00:00:00-03:00",
                    "2025-06-16T00:00:00-03:00",
                    "2025-06-17T00:00:00-03:00",
                    "2025-06-18T00:00:00-03:00",
                    "2025-06-19T00:00:00-03:00",
                    "2025-06-20T00:00:00-03:00",
                    "2025-06-21T00:00:00-03:00",
                    "2025-06-22T00:00:00-03:00",
                    "2025-06-23T00:00:00-03:00",
                    "2025-06-24T00:00:00-03:00",
                    "2025-06-25T00:00:00-03:00",
                    "2025-06-26T00:00:00-03:00",
                    "2025-06-27T00:00:00-03:00",
                    "2025-06-28T00:00:00-03:00",
                    "2025-06-29T00:00:00-03:00",
                    "2025-06-30T00:00:00-03:00",
                    "2025-07-01T00:00:00-03:00",
                    "2025-07-02T00:00:00-03:00"
                ],
                "id": "stripe.prod",
                "name": "stripe.prod"
            },
            "data": [
                1988, 2015, 2045, 2119, 2177, 2257, 2327, 2386, 2417, 2453, 2525, 2615, 2677, 2753, 2807, 2837, 2869,
                2959, 2035, 2102, 2178, 2240, 2262, 2297, 2360, 2437, 2525, 2601, 2650, 2689, 2728, 2803, 2870, 2941,
                2016, 2074, 2106, 2147, 2209, 2297, 2369, 2434, 2513, 2551, 2599, 2680, 2763, 2819, 2894, 2965, 2012,
                2056, 2133, 2199, 2278, 2353, 2414, 2452, 2501, 2544, 2544, 2544
            ],
            "days": [
                "2025-05-02",
                "2025-05-03",
                "2025-05-04",
                "2025-05-05",
                "2025-05-06",
                "2025-05-07",
                "2025-05-08",
                "2025-05-09",
                "2025-05-10",
                "2025-05-11",
                "2025-05-12",
                "2025-05-13",
                "2025-05-14",
                "2025-05-15",
                "2025-05-16",
                "2025-05-17",
                "2025-05-18",
                "2025-05-19",
                "2025-05-20",
                "2025-05-21",
                "2025-05-22",
                "2025-05-23",
                "2025-05-24",
                "2025-05-25",
                "2025-05-26",
                "2025-05-27",
                "2025-05-28",
                "2025-05-29",
                "2025-05-30",
                "2025-05-31",
                "2025-06-01",
                "2025-06-02",
                "2025-06-03",
                "2025-06-04",
                "2025-06-05",
                "2025-06-06",
                "2025-06-07",
                "2025-06-08",
                "2025-06-09",
                "2025-06-10",
                "2025-06-11",
                "2025-06-12",
                "2025-06-13",
                "2025-06-14",
                "2025-06-15",
                "2025-06-16",
                "2025-06-17",
                "2025-06-18",
                "2025-06-19",
                "2025-06-20",
                "2025-06-21",
                "2025-06-22",
                "2025-06-23",
                "2025-06-24",
                "2025-06-25",
                "2025-06-26",
                "2025-06-27",
                "2025-06-28",
                "2025-06-29",
                "2025-06-30",
                "2025-07-01",
                "2025-07-02"
            ],
            "label": "stripe.prod",
            "labels": [
                "2-May-2025",
                "3-May-2025",
                "4-May-2025",
                "5-May-2025",
                "6-May-2025",
                "7-May-2025",
                "8-May-2025",
                "9-May-2025",
                "10-May-2025",
                "11-May-2025",
                "12-May-2025",
                "13-May-2025",
                "14-May-2025",
                "15-May-2025",
                "16-May-2025",
                "17-May-2025",
                "18-May-2025",
                "19-May-2025",
                "20-May-2025",
                "21-May-2025",
                "22-May-2025",
                "23-May-2025",
                "24-May-2025",
                "25-May-2025",
                "26-May-2025",
                "27-May-2025",
                "28-May-2025",
                "29-May-2025",
                "30-May-2025",
                "31-May-2025",
                "1-Jun-2025",
                "2-Jun-2025",
                "3-Jun-2025",
                "4-Jun-2025",
                "5-Jun-2025",
                "6-Jun-2025",
                "7-Jun-2025",
                "8-Jun-2025",
                "9-Jun-2025",
                "10-Jun-2025",
                "11-Jun-2025",
                "12-Jun-2025",
                "13-Jun-2025",
                "14-Jun-2025",
                "15-Jun-2025",
                "16-Jun-2025",
                "17-Jun-2025",
                "18-Jun-2025",
                "19-Jun-2025",
                "20-Jun-2025",
                "21-Jun-2025",
                "22-Jun-2025",
                "23-Jun-2025",
                "24-Jun-2025",
                "25-Jun-2025",
                "26-Jun-2025",
                "27-Jun-2025",
                "28-Jun-2025",
                "29-Jun-2025",
                "30-Jun-2025",
                "1-Jul-2025",
                "2-Jul-2025"
            ]
        }
    ],
    "timezone": "America/Sao_Paulo",
    "timings": null
}
