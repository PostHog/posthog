# Generated by Django 4.2.18 on 2025-06-04 07:53

from django.db import migrations


class Migration(migrations.Migration):
    atomic = False

    dependencies = [
        ("posthog", "0760_alter_person_is_user"),
    ]

    operations = [
        migrations.RunSQL(
            sql="""
            DO $$
            BEGIN
                IF EXISTS (
                    SELECT 1
                    FROM pg_constraint
                    WHERE conname = 'posthog_person_is_user_id_cfc91ae7_fk_posthog_user_id'
                ) THEN
                    ALTER TABLE posthog_person DROP CONSTRAINT posthog_person_is_user_id_cfc91ae7_fk_posthog_user_id;
                END IF;
            END$$;
            """,
            reverse_sql="""
            """,
        ),
        migrations.RunSQL(
            sql="""
            DROP INDEX CONCURRENTLY IF EXISTS posthog_person_is_user_id_cfc91ae7;
            """,
            reverse_sql="""
            """,
        ),
    ]
