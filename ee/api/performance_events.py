import uuid
import structlog
from django.db.models import Q, QuerySet
from rest_framework import request, serializers, viewsets
from rest_framework.response import Response
from rest_framework.permissions import IsAuthenticated

from posthog.api.routing import StructuredViewSetMixin
from posthog.permissions import ProjectMembershipNecessaryPermissions, TeamMemberAccessPermission
from posthog.utils import relative_date_parse

logger = structlog.get_logger(__name__)


class PerformanceEventSerializer(serializers.Serializer):
    uuid = serializers.CharField()
    session_id = serializers.CharField()
    pageview_id = serializers.CharField()

    # def to_representation(self, instance):
    #     return {
    #         "id": instance.session_id,
    #         "created_at": instance.created_at,
    #     }


class PerformanceEventsViewSet(StructuredViewSetMixin, viewsets.GenericViewSet):
    serializer_class = PerformanceEventSerializer
    permission_classes = [IsAuthenticated, ProjectMembershipNecessaryPermissions, TeamMemberAccessPermission]
    # include_in_docs = True

    def get_queryset(self):
        return None

    def list(self, request: request.Request, *args, **kwargs) -> Response:
        # TODO: -> results = PeformanceEvents(filters).list()

        results = MOCK_DATA

        PerformanceEventSerializer(data=results, many=True)

        return Response({"results": results})

    # def _filter_request(self, request: request.Request, queryset: QuerySet) -> QuerySet:
    #     filters = request.GET.dict()

    #     for key in filters:
    #         if key == "user":
    #             queryset = queryset.filter(created_by=request.user)
    #         elif key == "pinned":
    #             queryset = queryset.filter(pinned=True)
    #         elif key == "static":
    #             queryset = queryset.filter(is_static=True)
    #         elif key == "date_from":
    #             queryset = queryset.filter(last_modified_at__gt=relative_date_parse(request.GET["date_from"]))
    #         elif key == "date_to":
    #             queryset = queryset.filter(last_modified_at__lt=relative_date_parse(request.GET["date_to"]))
    #         elif key == "search":
    #             queryset = queryset.filter(
    #                 Q(name__icontains=request.GET["search"]) | Q(derived_name__icontains=request.GET["search"])
    #             )
    #     return queryset


MOCK_DATA = [
    {
        "name": "http://localhost:8234/static/SessionRecordingsPlaylist-EWTR2YDA.js",
        "entry_type": "resource",
        "start_time": 5536,
        "duration": 7,
        "initiator_type": "script",
        "next_hop_protocol": "",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5536,
        "domain_lookup_start": 0,
        "domain_lookup_end": 0,
        "connect_start": 0,
        "connect_end": 0,
        "secure_connection_start": 0,
        "request_start": 0,
        "response_start": 0,
        "response_end": 5543,
        "transfer_size": 0,
        "encoded_body_size": 0,
        "decoded_body_size": 0,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/static/recorder.js?v=1.38.0",
        "entry_type": "resource",
        "start_time": 5501,
        "duration": 54,
        "initiator_type": "script",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5501,
        "domain_lookup_start": 5501,
        "domain_lookup_end": 5501,
        "connect_start": 5501,
        "connect_end": 5501,
        "secure_connection_start": 0,
        "request_start": 5505,
        "response_start": 5555,
        "response_end": 5555,
        "transfer_size": 62964,
        "encoded_body_size": 62577,
        "decoded_body_size": 62577,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8234/static/chunk-YOULECDP.js",
        "entry_type": "resource",
        "start_time": 5548,
        "duration": 7,
        "initiator_type": "script",
        "next_hop_protocol": "",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5548,
        "domain_lookup_start": 0,
        "domain_lookup_end": 0,
        "connect_start": 0,
        "connect_end": 0,
        "secure_connection_start": 0,
        "request_start": 0,
        "response_start": 0,
        "response_end": 5555,
        "transfer_size": 0,
        "encoded_body_size": 0,
        "decoded_body_size": 0,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8234/static/chunk-53STKFAG.js",
        "entry_type": "resource",
        "start_time": 5548,
        "duration": 7,
        "initiator_type": "script",
        "next_hop_protocol": "",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5548,
        "domain_lookup_start": 0,
        "domain_lookup_end": 0,
        "connect_start": 0,
        "connect_end": 0,
        "secure_connection_start": 0,
        "request_start": 0,
        "response_start": 0,
        "response_end": 5555,
        "transfer_size": 0,
        "encoded_body_size": 0,
        "decoded_body_size": 0,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8234/static/chunk-AJ6WKCBU.js",
        "entry_type": "resource",
        "start_time": 5546,
        "duration": 9,
        "initiator_type": "script",
        "next_hop_protocol": "",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5546,
        "domain_lookup_start": 0,
        "domain_lookup_end": 0,
        "connect_start": 0,
        "connect_end": 0,
        "secure_connection_start": 0,
        "request_start": 0,
        "response_start": 0,
        "response_end": 5555,
        "transfer_size": 0,
        "encoded_body_size": 0,
        "decoded_body_size": 0,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8234/static/chunk-KCSHRD4T.js",
        "entry_type": "resource",
        "start_time": 5548,
        "duration": 7,
        "initiator_type": "script",
        "next_hop_protocol": "",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5548,
        "domain_lookup_start": 0,
        "domain_lookup_end": 0,
        "connect_start": 0,
        "connect_end": 0,
        "secure_connection_start": 0,
        "request_start": 0,
        "response_start": 0,
        "response_end": 5555,
        "transfer_size": 0,
        "encoded_body_size": 0,
        "decoded_body_size": 0,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8234/static/chunk-LZPEAWA5.js",
        "entry_type": "resource",
        "start_time": 5548,
        "duration": 7,
        "initiator_type": "script",
        "next_hop_protocol": "",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5548,
        "domain_lookup_start": 0,
        "domain_lookup_end": 0,
        "connect_start": 0,
        "connect_end": 0,
        "secure_connection_start": 0,
        "request_start": 0,
        "response_start": 0,
        "response_end": 5555,
        "transfer_size": 0,
        "encoded_body_size": 0,
        "decoded_body_size": 0,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8234/static/chunk-ADD5SNJT.js",
        "entry_type": "resource",
        "start_time": 5548,
        "duration": 12,
        "initiator_type": "script",
        "next_hop_protocol": "",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5548,
        "domain_lookup_start": 0,
        "domain_lookup_end": 0,
        "connect_start": 0,
        "connect_end": 0,
        "secure_connection_start": 0,
        "request_start": 0,
        "response_start": 0,
        "response_end": 5560,
        "transfer_size": 0,
        "encoded_body_size": 0,
        "decoded_body_size": 0,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/recordings/playlists/QNbeHuNO#sessionRecordingId=1850d8afed16dc-01fa6aa4c0a1f9-40292c33-16a7f0-1850d8afed2295d",
        "entry_type": "navigation",
        "start_time": 0,
        "duration": 5572,
        "initiator_type": "navigation",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 0,
        "domain_lookup_start": 0,
        "domain_lookup_end": 0,
        "connect_start": 0,
        "connect_end": 0,
        "secure_connection_start": 0,
        "request_start": 10,
        "response_start": 1504,
        "response_end": 1504,
        "transfer_size": 27766,
        "encoded_body_size": 27332,
        "decoded_body_size": 27332,
        "server_timing": [],
        "unload_event_start": 1506,
        "unload_event_end": 1507,
        "dom_interactive": 1613,
        "dom_content_loaded_event_start": 1632,
        "dom_content_loaded_event_end": 1632,
        "dom_complete": 5572,
        "load_event_start": 5572,
        "load_event_end": 5572,
        "type": "reload",
        "redirect_count": 0,
    },
    {
        "name": "http://localhost:8000/decide/?v=2&ip=1&_=1671015197070&ver=1.38.0",
        "entry_type": "resource",
        "start_time": 5507,
        "duration": 204,
        "initiator_type": "xmlhttprequest",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5507,
        "domain_lookup_start": 5509,
        "domain_lookup_end": 5509,
        "connect_start": 5509,
        "connect_end": 5509,
        "secure_connection_start": 0,
        "request_start": 5509,
        "response_start": 5709,
        "response_end": 5711,
        "transfer_size": 1807,
        "encoded_body_size": 1395,
        "decoded_body_size": 1395,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/engage/?ip=1&_=1671015197079&ver=1.38.0",
        "entry_type": "resource",
        "start_time": 5516,
        "duration": 347,
        "initiator_type": "xmlhttprequest",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5516,
        "domain_lookup_start": 5524,
        "domain_lookup_end": 5524,
        "connect_start": 5524,
        "connect_end": 5524,
        "secure_connection_start": 0,
        "request_start": 5524,
        "response_start": 5863,
        "response_end": 5863,
        "transfer_size": 463,
        "encoded_body_size": 13,
        "decoded_body_size": 13,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/cohorts?limit=600",
        "entry_type": "resource",
        "start_time": 5575,
        "duration": 291,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5575,
        "domain_lookup_start": 5575,
        "domain_lookup_end": 5575,
        "connect_start": 5575,
        "connect_end": 5575,
        "secure_connection_start": 0,
        "request_start": 5612,
        "response_start": 5866,
        "response_end": 5866,
        "transfer_size": 348,
        "encoded_body_size": 52,
        "decoded_body_size": 52,
        "server_timing": [],
    },
    {
        "name": "https://update.posthog.com/",
        "entry_type": "resource",
        "start_time": 5726,
        "duration": 189,
        "initiator_type": "fetch",
        "next_hop_protocol": "",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5726,
        "domain_lookup_start": 0,
        "domain_lookup_end": 0,
        "connect_start": 0,
        "connect_end": 0,
        "secure_connection_start": 0,
        "request_start": 0,
        "response_start": 0,
        "response_end": 5915,
        "transfer_size": 0,
        "encoded_body_size": 0,
        "decoded_body_size": 0,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/static/assets/heart-hog-QR23WPFX.png",
        "entry_type": "resource",
        "start_time": 5747,
        "duration": 158,
        "initiator_type": "img",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5747,
        "domain_lookup_start": 5747,
        "domain_lookup_end": 5747,
        "connect_start": 5747,
        "connect_end": 5747,
        "secure_connection_start": 0,
        "request_start": 5863,
        "response_start": 5905,
        "response_end": 5905,
        "transfer_size": 73613,
        "encoded_body_size": 73248,
        "decoded_body_size": 73248,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/prompts/my_prompts/",
        "entry_type": "resource",
        "start_time": 5632,
        "duration": 302,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5632,
        "domain_lookup_start": 5632,
        "domain_lookup_end": 5632,
        "connect_start": 5632,
        "connect_end": 5632,
        "secure_connection_start": 0,
        "request_start": 5796,
        "response_start": 5934,
        "response_end": 5934,
        "transfer_size": 345,
        "encoded_body_size": 27,
        "decoded_body_size": 27,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/actions/",
        "entry_type": "resource",
        "start_time": 5720,
        "duration": 325,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5720,
        "domain_lookup_start": 5720,
        "domain_lookup_end": 5720,
        "connect_start": 5720,
        "connect_end": 5720,
        "secure_connection_start": 0,
        "request_start": 5866,
        "response_start": 6045,
        "response_end": 6045,
        "transfer_size": 310,
        "encoded_body_size": 14,
        "decoded_body_size": 14,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/annotations/",
        "entry_type": "resource",
        "start_time": 5720,
        "duration": 356,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5720,
        "domain_lookup_start": 5720,
        "domain_lookup_end": 5720,
        "connect_start": 5720,
        "connect_end": 5720,
        "secure_connection_start": 0,
        "request_start": 5905,
        "response_start": 6074,
        "response_end": 6076,
        "transfer_size": 348,
        "encoded_body_size": 52,
        "decoded_body_size": 52,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/session_recording_playlists/QNbeHuNO/",
        "entry_type": "resource",
        "start_time": 5576,
        "duration": 656,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5576,
        "domain_lookup_start": 5711,
        "domain_lookup_end": 5711,
        "connect_start": 5711,
        "connect_end": 5711,
        "secure_connection_start": 0,
        "request_start": 5711,
        "response_start": 6232,
        "response_end": 6232,
        "transfer_size": 1327,
        "encoded_body_size": 1015,
        "decoded_body_size": 1015,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/users/@me/",
        "entry_type": "resource",
        "start_time": 5535,
        "duration": 791,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5535,
        "domain_lookup_start": 5538,
        "domain_lookup_end": 5538,
        "connect_start": 5538,
        "connect_end": 5538,
        "secure_connection_start": 0,
        "request_start": 5538,
        "response_start": 6324,
        "response_end": 6326,
        "transfer_size": 1956,
        "encoded_body_size": 1652,
        "decoded_body_size": 1652,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/organizations/@current/members/?limit=200",
        "entry_type": "resource",
        "start_time": 5726,
        "duration": 625,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5726,
        "domain_lookup_start": 5726,
        "domain_lookup_end": 5726,
        "connect_start": 5726,
        "connect_end": 5726,
        "secure_connection_start": 0,
        "request_start": 6045,
        "response_start": 6351,
        "response_end": 6351,
        "transfer_size": 657,
        "encoded_body_size": 366,
        "decoded_body_size": 366,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/persons/properties/",
        "entry_type": "resource",
        "start_time": 5721,
        "duration": 641,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5721,
        "domain_lookup_start": 5721,
        "domain_lookup_end": 5721,
        "connect_start": 5721,
        "connect_end": 5721,
        "secure_connection_start": 0,
        "request_start": 5934,
        "response_start": 6362,
        "response_end": 6362,
        "transfer_size": 2465,
        "encoded_body_size": 2173,
        "decoded_body_size": 2173,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/organizations/@current/invites/",
        "entry_type": "resource",
        "start_time": 5728,
        "duration": 636,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5728,
        "domain_lookup_start": 5728,
        "domain_lookup_end": 5728,
        "connect_start": 5728,
        "connect_end": 5728,
        "secure_connection_start": 0,
        "request_start": 6076,
        "response_start": 6364,
        "response_end": 6364,
        "transfer_size": 348,
        "encoded_body_size": 52,
        "decoded_body_size": 52,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/billing-v2/",
        "entry_type": "resource",
        "start_time": 5732,
        "duration": 712,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5732,
        "domain_lookup_start": 5732,
        "domain_lookup_end": 5732,
        "connect_start": 5732,
        "connect_end": 5732,
        "secure_connection_start": 0,
        "request_start": 6232,
        "response_start": 6443,
        "response_end": 6444,
        "transfer_size": 262886,
        "encoded_body_size": 262615,
        "decoded_body_size": 262615,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/organizations/@current/plugins/",
        "entry_type": "resource",
        "start_time": 5739,
        "duration": 751,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5739,
        "domain_lookup_start": 5739,
        "domain_lookup_end": 5739,
        "connect_start": 5739,
        "connect_end": 5739,
        "secure_connection_start": 0,
        "request_start": 6326,
        "response_start": 6490,
        "response_end": 6490,
        "transfer_size": 901,
        "encoded_body_size": 604,
        "decoded_body_size": 604,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/event_definitions?limit=50&event_type=event_custom",
        "entry_type": "resource",
        "start_time": 5744,
        "duration": 820,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5744,
        "domain_lookup_start": 5744,
        "domain_lookup_end": 5744,
        "connect_start": 5744,
        "connect_end": 5744,
        "secure_connection_start": 0,
        "request_start": 6364,
        "response_start": 6564,
        "response_end": 6564,
        "transfer_size": 1975,
        "encoded_body_size": 1642,
        "decoded_body_size": 8372,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/license/",
        "entry_type": "resource",
        "start_time": 5752,
        "duration": 812,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5752,
        "domain_lookup_start": 5752,
        "domain_lookup_end": 5752,
        "connect_start": 5752,
        "connect_end": 5752,
        "secure_connection_start": 0,
        "request_start": 6490,
        "response_start": 6564,
        "response_end": 6564,
        "transfer_size": 348,
        "encoded_body_size": 52,
        "decoded_body_size": 52,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/plugin_config/",
        "entry_type": "resource",
        "start_time": 5739,
        "duration": 927,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5739,
        "domain_lookup_start": 5739,
        "domain_lookup_end": 5739,
        "connect_start": 5739,
        "connect_end": 5739,
        "secure_connection_start": 0,
        "request_start": 6351,
        "response_start": 6665,
        "response_end": 6666,
        "transfer_size": 516,
        "encoded_body_size": 219,
        "decoded_body_size": 219,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/personal_api_keys/",
        "entry_type": "resource",
        "start_time": 5755,
        "duration": 902,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5755,
        "domain_lookup_start": 5755,
        "domain_lookup_end": 5755,
        "connect_start": 5755,
        "connect_end": 5755,
        "secure_connection_start": 0,
        "request_start": 6564,
        "response_start": 6656,
        "response_end": 6657,
        "transfer_size": 297,
        "encoded_body_size": 2,
        "decoded_body_size": 2,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/activity_log/important_changes/",
        "entry_type": "resource",
        "start_time": 5843,
        "duration": 848,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5843,
        "domain_lookup_start": 5843,
        "domain_lookup_end": 5843,
        "connect_start": 5843,
        "connect_end": 5843,
        "secure_connection_start": 0,
        "request_start": 6564,
        "response_start": 6690,
        "response_end": 6691,
        "transfer_size": 291,
        "encoded_body_size": 2,
        "decoded_body_size": 2,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/organizations/@current/plugins/repository/",
        "entry_type": "resource",
        "start_time": 5740,
        "duration": 977,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5740,
        "domain_lookup_start": 5740,
        "domain_lookup_end": 5740,
        "connect_start": 5740,
        "connect_end": 5740,
        "secure_connection_start": 0,
        "request_start": 6362,
        "response_start": 6716,
        "response_end": 6717,
        "transfer_size": 16554,
        "encoded_body_size": 16261,
        "decoded_body_size": 16261,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/insights/?order=-last_modified_at&limit=30&offset=0&saved=true&basic=true",
        "entry_type": "resource",
        "start_time": 5745,
        "duration": 1004,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5745,
        "domain_lookup_start": 5745,
        "domain_lookup_end": 5745,
        "connect_start": 5745,
        "connect_end": 5745,
        "secure_connection_start": 0,
        "request_start": 6444,
        "response_start": 6749,
        "response_end": 6749,
        "transfer_size": 4263,
        "encoded_body_size": 3965,
        "decoded_body_size": 3965,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/static/assets/professor-hog-ITVILLXR.png",
        "entry_type": "resource",
        "start_time": 5773,
        "duration": 1042,
        "initiator_type": "img",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5773,
        "domain_lookup_start": 5773,
        "domain_lookup_end": 5773,
        "connect_start": 5773,
        "connect_end": 5773,
        "secure_connection_start": 0,
        "request_start": 6749,
        "response_start": 6806,
        "response_end": 6815,
        "transfer_size": 81236,
        "encoded_body_size": 80871,
        "decoded_body_size": 80871,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/instance_status/",
        "entry_type": "resource",
        "start_time": 5528,
        "duration": 1354,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5528,
        "domain_lookup_start": 5536,
        "domain_lookup_end": 5536,
        "connect_start": 5536,
        "connect_end": 5537,
        "secure_connection_start": 0,
        "request_start": 5537,
        "response_start": 6881,
        "response_end": 6882,
        "transfer_size": 24232,
        "encoded_body_size": 23939,
        "decoded_body_size": 23939,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/dashboards/?limit=300",
        "entry_type": "resource",
        "start_time": 5844,
        "duration": 1046,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5844,
        "domain_lookup_start": 5844,
        "domain_lookup_end": 5844,
        "connect_start": 5844,
        "connect_end": 5844,
        "secure_connection_start": 0,
        "request_start": 6657,
        "response_start": 6889,
        "response_end": 6890,
        "transfer_size": 671,
        "encoded_body_size": 374,
        "decoded_body_size": 374,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/session_recordings/1850d8afed16dc-01fa6aa4c0a1f9-40292c33-16a7f0-1850d8afed2295d?save_view=true",
        "entry_type": "resource",
        "start_time": 6266,
        "duration": 1030,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 6266,
        "domain_lookup_start": 6266,
        "domain_lookup_end": 6266,
        "connect_start": 6266,
        "connect_end": 6266,
        "secure_connection_start": 0,
        "request_start": 6666,
        "response_start": 7296,
        "response_end": 7296,
        "transfer_size": 5567,
        "encoded_body_size": 5268,
        "decoded_body_size": 5268,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/session_recordings/1850d8afed16dc-01fa6aa4c0a1f9-40292c33-16a7f0-1850d8afed2295d/snapshots?",
        "entry_type": "resource",
        "start_time": 6267,
        "duration": 1308,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 6267,
        "domain_lookup_start": 6267,
        "domain_lookup_end": 6267,
        "connect_start": 6267,
        "connect_end": 6267,
        "secure_connection_start": 0,
        "request_start": 6691,
        "response_start": 7575,
        "response_end": 7575,
        "transfer_size": 173508,
        "encoded_body_size": 173166,
        "decoded_body_size": 1831783,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/session_recordings?events=%5B%5D&actions=%5B%5D&date_from=2022-11-23&properties=%5B%5D&session_recording_duration=%7B%22key%22%3A%22duration%22%2C%22type%22%3A%22recording%22%2C%22value%22%3A60%2C%22operator%22%3A%22gt%22%7D&person_uuid=&limit=20",
        "entry_type": "resource",
        "start_time": 6375,
        "duration": 1322,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 6375,
        "domain_lookup_start": 6375,
        "domain_lookup_end": 6375,
        "connect_start": 6375,
        "connect_end": 6375,
        "secure_connection_start": 0,
        "request_start": 6717,
        "response_start": 7697,
        "response_end": 7697,
        "transfer_size": 3033,
        "encoded_body_size": 2693,
        "decoded_body_size": 52439,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/events?person_id=1&after=2022-12-13T22%3A10%3A31%2B00%3A00&before=2022-12-13T22%3A23%3A08%2B00%3A00&orderBy=%5B%22timestamp%22%5D&properties=%7B%22type%22%3A%22OR%22%2C%22values%22%3A%5B%7B%22type%22%3A%22AND%22%2C%22values%22%3A%5B%7B%22key%22%3A%22%24session_id%22%2C%22value%22%3A%22is_not_set%22%2C%22operator%22%3A%22is_not_set%22%2C%22type%22%3A%22event%22%7D%5D%7D%2C%7B%22type%22%3A%22AND%22%2C%22values%22%3A%5B%7B%22key%22%3A%22%24session_id%22%2C%22value%22%3A%5B%221850d8afed16dc-01fa6aa4c0a1f9-40292c33-16a7f0-1850d8afed2295d%22%5D%2C%22operator%22%3A%22exact%22%2C%22type%22%3A%22event%22%7D%5D%7D%5D%7D",
        "entry_type": "resource",
        "start_time": 7333,
        "duration": 647,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 7333,
        "domain_lookup_start": 7333,
        "domain_lookup_end": 7333,
        "connect_start": 7333,
        "connect_end": 7333,
        "secure_connection_start": 0,
        "request_start": 7337,
        "response_start": 7980,
        "response_end": 7980,
        "transfer_size": 731838,
        "encoded_body_size": 731544,
        "decoded_body_size": 731544,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/static/assets/heart-hog-QR23WPFX.png",
        "entry_type": "resource",
        "start_time": 8018,
        "duration": 54,
        "initiator_type": "other",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 8018,
        "domain_lookup_start": 8018,
        "domain_lookup_end": 8018,
        "connect_start": 8018,
        "connect_end": 8018,
        "secure_connection_start": 0,
        "request_start": 8019,
        "response_start": 8072,
        "response_end": 8072,
        "transfer_size": 268,
        "encoded_body_size": 73248,
        "decoded_body_size": 73248,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/static/assets/professor-hog-ITVILLXR.png",
        "entry_type": "resource",
        "start_time": 8019,
        "duration": 48,
        "initiator_type": "other",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 8019,
        "domain_lookup_start": 8019,
        "domain_lookup_end": 8019,
        "connect_start": 8019,
        "connect_end": 8019,
        "secure_connection_start": 0,
        "request_start": 8021,
        "response_start": 8064,
        "response_end": 8067,
        "transfer_size": 268,
        "encoded_body_size": 80871,
        "decoded_body_size": 80871,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/session_recordings/1850d8afed16dc-01fa6aa4c0a1f9-40292c33-16a7f0-1850d8afed2295d/snapshots?offset=20&limit=20",
        "entry_type": "resource",
        "start_time": 7656,
        "duration": 433,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 7656,
        "domain_lookup_start": 7656,
        "domain_lookup_end": 7656,
        "connect_start": 7656,
        "connect_end": 7656,
        "secure_connection_start": 0,
        "request_start": 7662,
        "response_start": 8088,
        "response_end": 8089,
        "transfer_size": 94625,
        "encoded_body_size": 94284,
        "decoded_body_size": 1067428,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/session_recordings/properties?session_ids=%5B%221851040eef9242f-0d8283bbfe7cfa-40292c33-16a7f0-1851040eefa206d%22%2C%22185103fe2e110d-059074014a3a0e-40292c33-16a7f0-185103fe2e226a5%22%2C%22185103c4ee12238-0ecc338b4870f68-40292c33-16a7f0-185103c4ee21c16%22%2C%22185103606eda74-0394d6d52a182c-40292c33-16a7f0-185103606ee2a10%22%2C%221851032b137fa9-08601044711441-40292c33-16a7f0-1851032b1381f87%22%2C%2218510146a40a34-0eee72891d4447-40292c33-16a7f0-18510146a4125e7%22%2C%221851011e0261233-0ccbe2dcf76c5d-40292c33-16a7f0-1851011e02725d7%22%2C%221851010a7722108-07d43ca825229a8-40292c33-16a7f0-1851010a7731c62%22%2C%22185100de94227de-0c703e2751d2da-40292c33-16a7f0-185100de94319db%22%2C%221850ffc00321f11-0f8f303fb9dd7a8-40292c33-16a7f0-1850ffc00331d11%22%2C%221850ff59ee6647-0cd6b812127de1-40292c33-16a7f0-1850ff59ee7c51%22%2C%221850db8380a233b-05ac8dfa8245f98-40292c33-16a7f0-1850db8380b3701%22%2C%221850db8387b2896-0d029f479623ee-40292c33-16a7f0-1850db8387c24a4%22%2C%221850db5785e3ab-02d1d7de88b85e-40292c33-16a7f0-1850db5785f299b%22%2C%221850db3c43e1d4c-0e78e524e5c678-40292c33-16a7f0-1850db3c43f26f3%22%2C%221850da9c956e0f-02b1b6c0184e268-40292c33-16a7f0-1850da9c9571da6%22%2C%221850d94c47322ee-0c8c2633d7ac41-40292c33-16a7f0-1850d94c474217b%22%2C%221850d8afed16dc-01fa6aa4c0a1f9-40292c33-16a7f0-1850d8afed2295d%22%2C%221850d87f404fb4-0eaac65ea7f0968-40292c33-16a7f0-1850d87f40526c6%22%2C%221850d8549425-0b65f93f8f23f18-40292c33-16a7f0-1850d8549431fa0%22%5D",
        "entry_type": "resource",
        "start_time": 7980,
        "duration": 226,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 7980,
        "domain_lookup_start": 7980,
        "domain_lookup_end": 7980,
        "connect_start": 7980,
        "connect_end": 7980,
        "secure_connection_start": 0,
        "request_start": 7989,
        "response_start": 8206,
        "response_end": 8206,
        "transfer_size": 10006,
        "encoded_body_size": 9707,
        "decoded_body_size": 9707,
        "server_timing": [],
    },
    {
        "name": "https://www.gravatar.com/avatar/e260786c12298922010ee4bfe4d03a76?s=96&d=404",
        "entry_type": "resource",
        "start_time": 5753,
        "duration": 2867,
        "initiator_type": "other",
        "next_hop_protocol": "",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 5753,
        "domain_lookup_start": 0,
        "domain_lookup_end": 0,
        "connect_start": 0,
        "connect_end": 0,
        "secure_connection_start": 0,
        "request_start": 0,
        "response_start": 0,
        "response_end": 8620,
        "transfer_size": 0,
        "encoded_body_size": 0,
        "decoded_body_size": 0,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/events?person_id=1&after=2022-12-13T22%3A12%3A47.240000%2B00%3A00&before=2022-12-13T22%3A23%3A08%2B00%3A00&orderBy=%5B%22timestamp%22%5D&properties=%7B%22type%22%3A%22OR%22%2C%22values%22%3A%5B%7B%22type%22%3A%22AND%22%2C%22values%22%3A%5B%7B%22key%22%3A%22%24session_id%22%2C%22value%22%3A%22is_not_set%22%2C%22operator%22%3A%22is_not_set%22%2C%22type%22%3A%22event%22%7D%5D%7D%2C%7B%22type%22%3A%22AND%22%2C%22values%22%3A%5B%7B%22key%22%3A%22%24session_id%22%2C%22value%22%3A%5B%221850d8afed16dc-01fa6aa4c0a1f9-40292c33-16a7f0-1850d8afed2295d%22%5D%2C%22operator%22%3A%22exact%22%2C%22type%22%3A%22event%22%7D%5D%7D%5D%7D",
        "entry_type": "resource",
        "start_time": 8159,
        "duration": 488,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 8159,
        "domain_lookup_start": 8159,
        "domain_lookup_end": 8159,
        "connect_start": 8159,
        "connect_end": 8159,
        "secure_connection_start": 0,
        "request_start": 8171,
        "response_start": 8646,
        "response_end": 8647,
        "transfer_size": 622894,
        "encoded_body_size": 622600,
        "decoded_body_size": 622600,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/session_recordings/1850d8afed16dc-01fa6aa4c0a1f9-40292c33-16a7f0-1850d8afed2295d/snapshots?offset=40&limit=20",
        "entry_type": "resource",
        "start_time": 8316,
        "duration": 830,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 8316,
        "domain_lookup_start": 8316,
        "domain_lookup_end": 8316,
        "connect_start": 8316,
        "connect_end": 8316,
        "secure_connection_start": 0,
        "request_start": 8319,
        "response_start": 9146,
        "response_end": 9146,
        "transfer_size": 24638,
        "encoded_body_size": 24297,
        "decoded_body_size": 278570,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/session_recordings/1850d8afed16dc-01fa6aa4c0a1f9-40292c33-16a7f0-1850d8afed2295d/snapshots?offset=60&limit=20",
        "entry_type": "resource",
        "start_time": 9530,
        "duration": 351,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 9530,
        "domain_lookup_start": 9530,
        "domain_lookup_end": 9530,
        "connect_start": 9530,
        "connect_end": 9530,
        "secure_connection_start": 0,
        "request_start": 9541,
        "response_start": 9881,
        "response_end": 9881,
        "transfer_size": 63305,
        "encoded_body_size": 62964,
        "decoded_body_size": 757885,
        "server_timing": [],
    },
    {
        "name": "http://localhost:8000/api/projects/1/session_recordings/1850d8afed16dc-01fa6aa4c0a1f9-40292c33-16a7f0-1850d8afed2295d/snapshots?offset=80&limit=20",
        "entry_type": "resource",
        "start_time": 10089,
        "duration": 520,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 10089,
        "domain_lookup_start": 10089,
        "domain_lookup_end": 10089,
        "connect_start": 10089,
        "connect_end": 10089,
        "secure_connection_start": 0,
        "request_start": 10094,
        "response_start": 10609,
        "response_end": 10609,
        "transfer_size": 31222,
        "encoded_body_size": 30881,
        "decoded_body_size": 407345,
        "server_timing": [],
    },
    {
        "name": "mousedown",
        "entry_type": "first-input",
        "start_time": 10806,
        "duration": 48,
        "processing_start": 10808,
        "processing_end": 10809,
        "cancelable": True,
    },
    {
        "name": "http://localhost:8000/api/projects/1/activity_log/important_changes/",
        "entry_type": "resource",
        "start_time": 16712,
        "duration": 38,
        "initiator_type": "fetch",
        "next_hop_protocol": "http/1.1",
        "worker_start": 0,
        "redirect_start": 0,
        "redirect_end": 0,
        "fetch_start": 16712,
        "domain_lookup_start": 16712,
        "domain_lookup_end": 16712,
        "connect_start": 16712,
        "connect_end": 16712,
        "secure_connection_start": 0,
        "request_start": 16715,
        "response_start": 16750,
        "response_end": 16750,
        "transfer_size": 291,
        "encoded_body_size": 2,
        "decoded_body_size": 2,
        "server_timing": [],
    },
]

for data in MOCK_DATA:
    data["uuid"] = uuid.uuid4()
    data["session_id"] = "1234"
    data["pageview_id"] = "1234"
