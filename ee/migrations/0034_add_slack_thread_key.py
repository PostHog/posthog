# Generated by Django 4.2.26 on 2025-12-10 13:06

from django.db import migrations, models


class Migration(migrations.Migration):
    dependencies = [
        ("ee", "0033_conversation_type_slack"),
    ]

    operations = [
        migrations.AddField(
            model_name="conversation",
            name="slack_thread_key",
            field=models.CharField(
                blank=True,
                help_text="Unique key for Slack thread: '{workspace_id}:{channel}:{thread_ts}'",
                max_length=200,
                null=True,
            ),
        ),
        migrations.AddConstraint(
            model_name="conversation",
            constraint=models.UniqueConstraint(
                condition=models.Q(("slack_thread_key__isnull", False)),
                fields=("team", "slack_thread_key"),
                name="unique_team_slack_thread_key",
            ),
        ),
    ]
