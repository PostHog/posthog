# Generated by Django 3.1.8 on 2021-05-29 16:13

from django.db import migrations


def forward(apps, schema_editor):
    EnterpriseEventDefinition = apps.get_model("ee", "EnterpriseEventDefinition")
    EnterprisePropertyDefinition = apps.get_model("ee", "EnterprisePropertyDefinition")

    EventDefinition = apps.get_model("posthog", "EventDefinition")
    PropertyDefinition = apps.get_model("posthog", "PropertyDefinition")

    for event in EventDefinition.objects.all():
        enterprise_eventdef = EnterpriseEventDefinition(eventdefinition_ptr_id=event.id)
        enterprise_eventdef.__dict__.update(event.__dict__)
        enterprise_eventdef.save()

    for property in PropertyDefinition.objects.all():
        enterprise_propertydef = EnterprisePropertyDefinition(propertydefinition_ptr_id=property.id)
        enterprise_propertydef.__dict__.update(property.__dict__)
        enterprise_propertydef.save()


def reverse(apps, schema_editor):
    pass


class Migration(migrations.Migration):

    dependencies = [
        ("ee", "0004_enterprise_event_property_definitions"),
    ]

    operations = [
        migrations.RunPython(forward, reverse),
    ]
