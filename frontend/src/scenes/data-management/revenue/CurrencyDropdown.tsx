import { LemonSelect, LemonSelectOption, LemonSelectProps } from '@posthog/lemon-ui'
import React from 'react'

import { SupportedCurrencies } from '~/queries/schema/schema-general'

type T = SupportedCurrencies | null
type SelectProps = LemonSelectProps<T>
type SelectOption = LemonSelectOption<T>
type CurrencyDropdownProps = Omit<SelectProps, 'options'>

export const CurrencyDropdown: React.FC<CurrencyDropdownProps> = (props) => {
    return (
        <LemonSelect
            {...props}
            options={
                Object.keys(SupportedCurrencies).map((currency) => ({
                    value: currency,
                    disabledReason: DISABLED_CURRENCIES[currency as SupportedCurrencies],
                    label: (
                        <span>
                            {CURRENCY_SYMBOL_TO_EMOJI_MAP[currency as SupportedCurrencies]}{' '}
                            {CURRENCY_SYMBOL_TO_NAME_MAP[currency as SupportedCurrencies]}
                        </span>
                    ),
                })) as SelectOption[]
            }
        />
    )
}

// Long name for each currency
const CURRENCY_SYMBOL_TO_NAME_MAP: Record<SupportedCurrencies, string> = {
    [SupportedCurrencies.AED]: 'United Arab Emirates Dirham',
    [SupportedCurrencies.AFN]: 'Afghan Afghani',
    [SupportedCurrencies.ALL]: 'Albanian Lek',
    [SupportedCurrencies.AMD]: 'Armenian Dram',
    [SupportedCurrencies.ANG]: 'Netherlands Antillean Guilder',
    [SupportedCurrencies.AOA]: 'Angolan Kwanza',
    [SupportedCurrencies.ARS]: 'Argentine Peso',
    [SupportedCurrencies.AUD]: 'Australian Dollar',
    [SupportedCurrencies.AWG]: 'Aruban Florin',
    [SupportedCurrencies.AZN]: 'Azerbaijani Manat',
    [SupportedCurrencies.BAM]: 'Bosnia-Herzegovina Convertible Mark',
    [SupportedCurrencies.BBD]: 'Barbadian Dollar',
    [SupportedCurrencies.BDT]: 'Bangladeshi Taka',
    [SupportedCurrencies.BGN]: 'Bulgarian Lev',
    [SupportedCurrencies.BHD]: 'Bahraini Dinar',
    [SupportedCurrencies.BIF]: 'Burundian Franc',
    [SupportedCurrencies.BMD]: 'Bermudan Dollar',
    [SupportedCurrencies.BND]: 'Brunei Dollar',
    [SupportedCurrencies.BOB]: 'Bolivian Boliviano',
    [SupportedCurrencies.BRL]: 'Brazilian Real',
    [SupportedCurrencies.BSD]: 'Bahamian Dollar',
    [SupportedCurrencies.BTC]: 'Bitcoin',
    [SupportedCurrencies.BTN]: 'Bhutanese Ngultrum',
    [SupportedCurrencies.BWP]: 'Botswanan Pula',
    [SupportedCurrencies.BYN]: 'Belarusian Ruble',
    [SupportedCurrencies.BZD]: 'Belize Dollar',
    [SupportedCurrencies.CAD]: 'Canadian Dollar',
    [SupportedCurrencies.CDF]: 'Congolese Franc',
    [SupportedCurrencies.CHF]: 'Swiss Franc',
    [SupportedCurrencies.CLP]: 'Chilean Peso',
    [SupportedCurrencies.CNY]: 'Chinese Yuan',
    [SupportedCurrencies.COP]: 'Colombian Peso',
    [SupportedCurrencies.CRC]: 'Costa Rican Colón',
    [SupportedCurrencies.CVE]: 'Cape Verdean Escudo',
    [SupportedCurrencies.CZK]: 'Czech Republic Koruna',
    [SupportedCurrencies.DJF]: 'Djiboutian Franc',
    [SupportedCurrencies.DKK]: 'Danish Krone',
    [SupportedCurrencies.DOP]: 'Dominican Peso',
    [SupportedCurrencies.DZD]: 'Algerian Dinar',
    [SupportedCurrencies.EGP]: 'Egyptian Pound',
    [SupportedCurrencies.ERN]: 'Eritrean Nakfa',
    [SupportedCurrencies.ETB]: 'Ethiopian Birr',
    [SupportedCurrencies.EUR]: 'Euro',
    [SupportedCurrencies.FJD]: 'Fijian Dollar',
    [SupportedCurrencies.GBP]: 'British Pound Sterling',
    [SupportedCurrencies.GEL]: 'Georgian Lari',
    [SupportedCurrencies.GHS]: 'Ghanaian Cedi',
    [SupportedCurrencies.GIP]: 'Gibraltar Pound',
    [SupportedCurrencies.GMD]: 'Gambian Dalasi',
    [SupportedCurrencies.GNF]: 'Guinean Franc',
    [SupportedCurrencies.GTQ]: 'Guatemalan Quetzal',
    [SupportedCurrencies.GYD]: 'Guyanaese Dollar',
    [SupportedCurrencies.HKD]: 'Hong Kong Dollar',
    [SupportedCurrencies.HNL]: 'Honduran Lempira',
    [SupportedCurrencies.HRK]: 'Croatian Kuna',
    [SupportedCurrencies.HTG]: 'Haitian Gourde',
    [SupportedCurrencies.HUF]: 'Hungarian Forint',
    [SupportedCurrencies.IDR]: 'Indonesian Rupiah',
    [SupportedCurrencies.ILS]: 'Israeli New Sheqel',
    [SupportedCurrencies.INR]: 'Indian Rupee',
    [SupportedCurrencies.IQD]: 'Iraqi Dinar',
    [SupportedCurrencies.IRR]: 'Iranian Rial',
    [SupportedCurrencies.ISK]: 'Icelandic Króna',
    [SupportedCurrencies.JMD]: 'Jamaican Dollar',
    [SupportedCurrencies.JOD]: 'Jordanian Dinar',
    [SupportedCurrencies.JPY]: 'Japanese Yen',
    [SupportedCurrencies.KES]: 'Kenyan Shilling',
    [SupportedCurrencies.KGS]: 'Kyrgystani Som',
    [SupportedCurrencies.KHR]: 'Cambodian Riel',
    [SupportedCurrencies.KMF]: 'Comorian Franc',
    [SupportedCurrencies.KRW]: 'South Korean Won',
    [SupportedCurrencies.KWD]: 'Kuwaiti Dinar',
    [SupportedCurrencies.KYD]: 'Cayman Islands Dollar',
    [SupportedCurrencies.KZT]: 'Kazakhstani Tenge',
    [SupportedCurrencies.LAK]: 'Laotian Kip',
    [SupportedCurrencies.LBP]: 'Lebanese Pound',
    [SupportedCurrencies.LKR]: 'Sri Lankan Rupee',
    [SupportedCurrencies.LRD]: 'Liberian Dollar',
    [SupportedCurrencies.LTL]: 'Lithuanian Litas',
    [SupportedCurrencies.LVL]: 'Latvian Lats',
    [SupportedCurrencies.LSL]: 'Lesotho Loti',
    [SupportedCurrencies.LYD]: 'Libyan Dinar',
    [SupportedCurrencies.MAD]: 'Moroccan Dirham',
    [SupportedCurrencies.MDL]: 'Moldovan Leu',
    [SupportedCurrencies.MGA]: 'Malagasy Ariary',
    [SupportedCurrencies.MKD]: 'Macedonian Denar',
    [SupportedCurrencies.MMK]: 'Myanma Kyat',
    [SupportedCurrencies.MNT]: 'Mongolian Tugrik',
    [SupportedCurrencies.MOP]: 'Macanese Pataca',
    [SupportedCurrencies.MRU]: 'Mauritanian Ouguiya',
    [SupportedCurrencies.MTL]: 'Maltese Lira',
    [SupportedCurrencies.MUR]: 'Mauritian Rupee',
    [SupportedCurrencies.MVR]: 'Maldivian Rufiyaa',
    [SupportedCurrencies.MWK]: 'Malawian Kwacha',
    [SupportedCurrencies.MXN]: 'Mexican Peso',
    [SupportedCurrencies.MYR]: 'Malaysian Ringgit',
    [SupportedCurrencies.MZN]: 'Mozambican Metical',
    [SupportedCurrencies.NAD]: 'Namibian Dollar',
    [SupportedCurrencies.NGN]: 'Nigerian Naira',
    [SupportedCurrencies.NIO]: 'Nicaraguan Córdoba',
    [SupportedCurrencies.NOK]: 'Norwegian Krone',
    [SupportedCurrencies.NPR]: 'Nepalese Rupee',
    [SupportedCurrencies.NZD]: 'New Zealand Dollar',
    [SupportedCurrencies.OMR]: 'Omani Rial',
    [SupportedCurrencies.PAB]: 'Panamanian Balboa',
    [SupportedCurrencies.PEN]: 'Peruvian Nuevo Sol',
    [SupportedCurrencies.PGK]: 'Papua New Guinean Kina',
    [SupportedCurrencies.PHP]: 'Philippine Peso',
    [SupportedCurrencies.PKR]: 'Pakistani Rupee',
    [SupportedCurrencies.PLN]: 'Polish Zloty',
    [SupportedCurrencies.PYG]: 'Paraguayan Guarani',
    [SupportedCurrencies.QAR]: 'Qatari Rial',
    [SupportedCurrencies.RON]: 'Romanian Leu',
    [SupportedCurrencies.RSD]: 'Serbian Dinar',
    [SupportedCurrencies.RUB]: 'Russian Ruble',
    [SupportedCurrencies.RWF]: 'Rwandan Franc',
    [SupportedCurrencies.SAR]: 'Saudi Riyal',
    [SupportedCurrencies.SBD]: 'Solomon Islands Dollar',
    [SupportedCurrencies.SCR]: 'Seychellois Rupee',
    [SupportedCurrencies.SDG]: 'Sudanese Pound',
    [SupportedCurrencies.SEK]: 'Swedish Krona',
    [SupportedCurrencies.SGD]: 'Singapore Dollar',
    [SupportedCurrencies.SRD]: 'Surinamese Dollar',
    [SupportedCurrencies.SSP]: 'South Sudanese Pound',
    [SupportedCurrencies.STN]: 'São Tomé and Príncipe Dobra',
    [SupportedCurrencies.SYP]: 'Syrian Pound',
    [SupportedCurrencies.SZL]: 'Swazi Lilangeni',
    [SupportedCurrencies.THB]: 'Thai Baht',
    [SupportedCurrencies.TJS]: 'Tajikistani Somoni',
    [SupportedCurrencies.TMT]: 'Turkmenistani Manat',
    [SupportedCurrencies.TND]: 'Tunisian Dinar',
    [SupportedCurrencies.TOP]: "Tongan Pa'anga",
    [SupportedCurrencies.TRY]: 'Turkish Lira',
    [SupportedCurrencies.TTD]: 'Trinidad and Tobago Dollar',
    [SupportedCurrencies.TWD]: 'New Taiwan Dollar',
    [SupportedCurrencies.TZS]: 'Tanzanian Shilling',
    [SupportedCurrencies.UAH]: 'Ukrainian Hryvnia',
    [SupportedCurrencies.UGX]: 'Ugandan Shilling',
    [SupportedCurrencies.USD]: 'United States Dollar',
    [SupportedCurrencies.UYU]: 'Uruguayan Peso',
    [SupportedCurrencies.UZS]: 'Uzbekistan Som',
    [SupportedCurrencies.VES]: 'Venezuelan Bolívar Soberano',
    [SupportedCurrencies.VND]: 'Vietnamese Dong',
    [SupportedCurrencies.VUV]: 'Vanuatu Vatu',
    [SupportedCurrencies.WST]: 'Samoan Tala',
    [SupportedCurrencies.XAF]: 'CFA Franc BEAC',
    [SupportedCurrencies.XCD]: 'East Caribbean Dollar',
    [SupportedCurrencies.XOF]: 'CFA Franc BCEAO',
    [SupportedCurrencies.XPF]: 'CFP Franc',
    [SupportedCurrencies.YER]: 'Yemeni Rial',
    [SupportedCurrencies.ZAR]: 'South African Rand',
    [SupportedCurrencies.ZMW]: 'Zambian Kwacha',
}

// Flag (or emoji in some cases) for each individually supported currency
const CURRENCY_SYMBOL_TO_EMOJI_MAP: Record<SupportedCurrencies, string> = {
    [SupportedCurrencies.AED]: '🇦🇪',
    [SupportedCurrencies.AFN]: '🇦🇫',
    [SupportedCurrencies.ALL]: '🇦🇱',
    [SupportedCurrencies.AMD]: '🇦🇲',
    [SupportedCurrencies.ANG]: '🇧🇶',
    [SupportedCurrencies.AOA]: '🇦🇴',
    [SupportedCurrencies.ARS]: '🇦🇷',
    [SupportedCurrencies.AUD]: '🇦🇺',
    [SupportedCurrencies.AWG]: '🇦🇼',
    [SupportedCurrencies.AZN]: '🇦🇿',
    [SupportedCurrencies.BAM]: '🇧🇦',
    [SupportedCurrencies.BBD]: '🇧🇧',
    [SupportedCurrencies.BDT]: '🇧🇩',
    [SupportedCurrencies.BGN]: '🇧🇬',
    [SupportedCurrencies.BHD]: '🇧🇭',
    [SupportedCurrencies.BIF]: '🇧🇮',
    [SupportedCurrencies.BMD]: '🇧🇲',
    [SupportedCurrencies.BND]: '🇧🇳',
    [SupportedCurrencies.BOB]: '🇧🇴',
    [SupportedCurrencies.BRL]: '🇧🇷',
    [SupportedCurrencies.BSD]: '🇧🇸',
    [SupportedCurrencies.BTC]: '₿',
    [SupportedCurrencies.BTN]: '🇧🇹',
    [SupportedCurrencies.BWP]: '🇧🇼',
    [SupportedCurrencies.BYN]: '🇧🇾',
    [SupportedCurrencies.BZD]: '🇧🇿',
    [SupportedCurrencies.CAD]: '🇨🇦',
    [SupportedCurrencies.CDF]: '🇨🇩',
    [SupportedCurrencies.CHF]: '🇨🇭',
    [SupportedCurrencies.CLP]: '🇨🇱',
    [SupportedCurrencies.CNY]: '🇨🇳',
    [SupportedCurrencies.COP]: '🇨🇴',
    [SupportedCurrencies.CRC]: '🇨🇷',
    [SupportedCurrencies.CVE]: '🇨🇻',
    [SupportedCurrencies.CZK]: '🇨🇿',
    [SupportedCurrencies.DJF]: '🇩🇯',
    [SupportedCurrencies.DKK]: '🇩🇰',
    [SupportedCurrencies.DOP]: '🇩🇴',
    [SupportedCurrencies.DZD]: '🇩🇿',
    [SupportedCurrencies.EGP]: '🇪🇬',
    [SupportedCurrencies.ERN]: '🇪🇷',
    [SupportedCurrencies.ETB]: '🇪🇹',
    [SupportedCurrencies.EUR]: '🇪🇺',
    [SupportedCurrencies.FJD]: '🇫🇯',
    [SupportedCurrencies.GBP]: '🇬🇧',
    [SupportedCurrencies.GEL]: '🇬🇪',
    [SupportedCurrencies.GHS]: '🇬🇭',
    [SupportedCurrencies.GIP]: '🇬🇮',
    [SupportedCurrencies.GMD]: '🇬🇲',
    [SupportedCurrencies.GNF]: '🇬🇳',
    [SupportedCurrencies.GTQ]: '🇬🇹',
    [SupportedCurrencies.GYD]: '🇬🇾',
    [SupportedCurrencies.HKD]: '🇭🇰',
    [SupportedCurrencies.HNL]: '🇭🇳',
    [SupportedCurrencies.HRK]: '🇭🇷',
    [SupportedCurrencies.HTG]: '🇭🇹',
    [SupportedCurrencies.HUF]: '🇭🇺',
    [SupportedCurrencies.IDR]: '🇮🇩',
    [SupportedCurrencies.ILS]: '🇮🇱',
    [SupportedCurrencies.INR]: '🇮🇳',
    [SupportedCurrencies.IQD]: '🇮🇶',
    [SupportedCurrencies.IRR]: '🇮🇷',
    [SupportedCurrencies.ISK]: '🇮🇸',
    [SupportedCurrencies.JMD]: '🇯🇲',
    [SupportedCurrencies.JOD]: '🇯🇴',
    [SupportedCurrencies.JPY]: '🇯🇵',
    [SupportedCurrencies.KES]: '🇰🇪',
    [SupportedCurrencies.KGS]: '🇰🇬',
    [SupportedCurrencies.KHR]: '🇰🇭',
    [SupportedCurrencies.KMF]: '🇰🇲',
    [SupportedCurrencies.KRW]: '🇰🇷',
    [SupportedCurrencies.KWD]: '🇰🇼',
    [SupportedCurrencies.KYD]: '🇰🇾',
    [SupportedCurrencies.KZT]: '🇰🇿',
    [SupportedCurrencies.LAK]: '🇱🇦',
    [SupportedCurrencies.LBP]: '🇱🇧',
    [SupportedCurrencies.LKR]: '🇱🇰',
    [SupportedCurrencies.LRD]: '🇱🇷',
    [SupportedCurrencies.LTL]: '🇱🇹',
    [SupportedCurrencies.LVL]: '🇱🇻',
    [SupportedCurrencies.LSL]: '🇱🇸',
    [SupportedCurrencies.LYD]: '🇱🇾',
    [SupportedCurrencies.MAD]: '🇲🇦',
    [SupportedCurrencies.MDL]: '🇲🇩',
    [SupportedCurrencies.MGA]: '🇲🇬',
    [SupportedCurrencies.MKD]: '🇲🇰',
    [SupportedCurrencies.MMK]: '🇲🇲',
    [SupportedCurrencies.MNT]: '🇲🇳',
    [SupportedCurrencies.MOP]: '🇲🇴',
    [SupportedCurrencies.MRU]: '🇲🇷',
    [SupportedCurrencies.MTL]: '🇲🇹',
    [SupportedCurrencies.MUR]: '🇲🇺',
    [SupportedCurrencies.MVR]: '🇲🇻',
    [SupportedCurrencies.MWK]: '🇲🇼',
    [SupportedCurrencies.MXN]: '🇲🇽',
    [SupportedCurrencies.MYR]: '🇲🇾',
    [SupportedCurrencies.MZN]: '🇲🇿',
    [SupportedCurrencies.NAD]: '🇳🇦',
    [SupportedCurrencies.NGN]: '🇳🇬',
    [SupportedCurrencies.NIO]: '🇳🇮',
    [SupportedCurrencies.NOK]: '🇳🇴',
    [SupportedCurrencies.NPR]: '🇳🇵',
    [SupportedCurrencies.NZD]: '🇳🇿',
    [SupportedCurrencies.OMR]: '🇴🇲',
    [SupportedCurrencies.PAB]: '🇵🇦',
    [SupportedCurrencies.PEN]: '🇵🇪',
    [SupportedCurrencies.PGK]: '🇵🇬',
    [SupportedCurrencies.PHP]: '🇵🇭',
    [SupportedCurrencies.PKR]: '🇵🇰',
    [SupportedCurrencies.PLN]: '🇵🇱',
    [SupportedCurrencies.PYG]: '🇵🇾',
    [SupportedCurrencies.QAR]: '🇶🇦',
    [SupportedCurrencies.RON]: '🇷🇴',
    [SupportedCurrencies.RSD]: '🇷🇸',
    [SupportedCurrencies.RUB]: '🇷🇺',
    [SupportedCurrencies.RWF]: '🇷🇼',
    [SupportedCurrencies.SAR]: '🇸🇦',
    [SupportedCurrencies.SBD]: '🇸🇧',
    [SupportedCurrencies.SCR]: '🇸🇨',
    [SupportedCurrencies.SDG]: '🇸🇩',
    [SupportedCurrencies.SEK]: '🇸🇪',
    [SupportedCurrencies.SGD]: '🇸🇬',
    [SupportedCurrencies.SRD]: '🇸🇷',
    [SupportedCurrencies.SSP]: '🇸🇸',
    [SupportedCurrencies.STN]: '🇸🇹',
    [SupportedCurrencies.SYP]: '🇸🇾',
    [SupportedCurrencies.SZL]: '🇸🇿',
    [SupportedCurrencies.THB]: '🇹🇭',
    [SupportedCurrencies.TJS]: '🇹🇯',
    [SupportedCurrencies.TMT]: '🇹🇲',
    [SupportedCurrencies.TND]: '🇹🇳',
    [SupportedCurrencies.TOP]: '🇹🇴',
    [SupportedCurrencies.TRY]: '🇹🇷',
    [SupportedCurrencies.TTD]: '🇹🇹',
    [SupportedCurrencies.TWD]: '🇹🇼',
    [SupportedCurrencies.TZS]: '🇹🇿',
    [SupportedCurrencies.UAH]: '🇺🇦',
    [SupportedCurrencies.UGX]: '🇺🇬',
    [SupportedCurrencies.USD]: '🇺🇸',
    [SupportedCurrencies.UYU]: '🇺🇾',
    [SupportedCurrencies.UZS]: '🇺🇿',
    [SupportedCurrencies.VES]: '🇻🇪',
    [SupportedCurrencies.VND]: '🇻🇳',
    [SupportedCurrencies.VUV]: '🇻🇺',
    [SupportedCurrencies.WST]: '🇼🇸',
    [SupportedCurrencies.XAF]: '🌍', // Central Africa currency, using Africa+Europe globe emoji
    [SupportedCurrencies.XCD]: '🌎', // East Caribbean Dollar, using Americas globe emoji
    [SupportedCurrencies.XOF]: '🌍', // West Africa currency, using Africa+Europe globe emoji
    [SupportedCurrencies.XPF]: '🌏', // French ultramarine territories in Oceania, using Asia+Oceania globe emoji
    [SupportedCurrencies.YER]: '🇾🇪',
    [SupportedCurrencies.ZAR]: '🇿🇦',
    [SupportedCurrencies.ZMW]: '🇿🇲',
}

// These currencies are disabled as default currencies for one reason or another
const DISABLED_CURRENCIES: { [key in SupportedCurrencies]?: string } = {
    [SupportedCurrencies.HRK]: 'Replaced by the Euro on Jan 1st 2023',
    [SupportedCurrencies.LTL]: 'Replaced by the Euro on Jan 1st 2015',
    [SupportedCurrencies.LVL]: 'Replaced by the Euro on Jan 1st 2014',
    [SupportedCurrencies.MTL]: 'Replaced by the Euro on Jan 1st 2008',
}
