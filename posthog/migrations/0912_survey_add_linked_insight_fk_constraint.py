# Generated by Django 4.2.26 on 2025-11-19 19:40

from django.db import migrations


class Migration(migrations.Migration):
    dependencies = [
        ("posthog", "0912_alter_survey_linked_insight_type"),
    ]

    operations = [
        migrations.RunSQL(
            sql="""
            ALTER TABLE "posthog_survey"
            ADD CONSTRAINT "posthog_survey_linked_insight_id_586524f3_fk_posthog_d"
            FOREIGN KEY ("linked_insight_id")
            REFERENCES "posthog_dashboarditem"("id")
            DEFERRABLE INITIALLY DEFERRED; -- existing-table-constraint-ignore

            SET CONSTRAINTS "posthog_survey_linked_insight_id_586524f3_fk_posthog_d" IMMEDIATE; -- existing-table-constraint-ignore
            """,
            reverse_sql="""
            ALTER TABLE "posthog_survey"
            DROP CONSTRAINT IF EXISTS "posthog_survey_linked_insight_id_586524f3_fk_posthog_d";
            """,
        ),
    ]
