# Generated by Django 3.0.11 on 2021-04-05 19:23

from django.db import migrations


def sync_team_event_names_and_properties(apps, schema_editor):
    Team = apps.get_model("posthog", "Team")
    for team in Team.objects.all():
        try:
            # importing locally in case the code ever moves
            from posthog.tasks.sync_event_and_properties_definitions import sync_event_and_properties_definitions

            sync_event_and_properties_definitions(team.uuid)
        except:
            pass


class Migration(migrations.Migration):

    dependencies = [
        ("posthog", "0145_eventdefinition_propertydefinition"),
    ]

    operations = [
        migrations.RunPython(sync_team_event_names_and_properties, migrations.RunPython.noop),
    ]
