# Generated by Django 4.2.11 on 2024-04-21 21:11
from django.contrib.postgres.operations import AddConstraintNotValid
from django.db import migrations, models


class Migration(migrations.Migration):
    dependencies = [
        ("posthog", "0403_plugin_has_private_access"),
    ]

    operations = [
        migrations.RemoveConstraint(
            model_name="propertydefinition",
            name="property_type_is_valid",
        ),
        migrations.AlterField(
            model_name="propertydefinition",
            name="property_type",
            field=models.CharField(
                blank=True,
                choices=[
                    ("DateTime", "DateTime"),
                    ("String", "String"),
                    ("Numeric", "Numeric"),
                    ("Boolean", "Boolean"),
                    ("Duration", "Duration"),
                ],
                max_length=50,
                null=True,
            ),
        ),
        migrations.AlterField(
            model_name="propertydefinition",
            name="type",
            field=models.PositiveSmallIntegerField(
                choices=[(1, "event"), (2, "person"), (3, "group"), (4, "session")], default=1
            ),
        ),
        # changed from migrations.AddConstraint. See migration 0405 for where we validate the constraint
        AddConstraintNotValid(
            model_name="propertydefinition",
            constraint=models.CheckConstraint(
                check=models.Q(("property_type__in", ["DateTime", "String", "Numeric", "Boolean", "Duration"])),
                name="property_type_is_valid",
            ),
        ),
    ]
