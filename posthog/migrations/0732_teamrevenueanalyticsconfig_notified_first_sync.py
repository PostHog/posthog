# Generated by Django 4.2.18 on 2025-04-30 02:12

from django.db import migrations, models


# Dont want to send emails for integrations that have been around for a while
# so let's completely ignore existing accounts
def backfill_notified_first_sync(apps, schema_editor):
    TeamRevenueAnalyticsConfig = apps.get_model("posthog", "TeamRevenueAnalyticsConfig")
    TeamRevenueAnalyticsConfig.objects.update(notified_first_sync=True)


class Migration(migrations.Migration):
    dependencies = [
        ("posthog", "0731_backfill_hog_function_template_fk"),
    ]

    operations = [
        migrations.AddField(
            model_name="teamrevenueanalyticsconfig",
            name="notified_first_sync",
            field=models.BooleanField(default=False, null=True),
        ),
        migrations.RunPython(
            backfill_notified_first_sync,
            reverse_code=migrations.RunPython.noop,
        ),
    ]
