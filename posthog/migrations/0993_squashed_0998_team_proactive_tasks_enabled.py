# Generated by Django 4.2.28 on 2026-02-18 08:16

from django.db import migrations, models


class Migration(migrations.Migration):
    replaces = [
        ("posthog", "0993_approvalpolicy_bypass_options"),
        ("posthog", "0994_user_requested_2fa_reset_at"),
        ("posthog", "0995_team_default_experiment_stats_method"),
        ("posthog", "0996_oauthapplication_is_first_party"),
        ("posthog", "0997_oauthapplication_auth_brand"),
        ("posthog", "0998_team_proactive_tasks_enabled"),
    ]

    dependencies = [
        ("ee", "0025_role_members"),
        ("posthog", "0992_drop_approvalpolicy_bypass_roles_column"),
    ]

    operations = [
        migrations.AddField(
            model_name="approvalpolicy",
            name="bypass_org_membership_levels",
            field=models.JSONField(default=list),
        ),
        migrations.AddField(
            model_name="approvalpolicy",
            name="bypass_roles",
            field=models.ManyToManyField(blank=True, related_name="bypass_policies", to="ee.role"),
        ),
        migrations.AddField(
            model_name="user",
            name="requested_2fa_reset_at",
            field=models.DateTimeField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name="team",
            name="default_experiment_stats_method",
            field=models.CharField(
                blank=True,
                choices=[("bayesian", "Bayesian"), ("frequentist", "Frequentist")],
                default="bayesian",
                help_text="Default statistical method for new experiments in this environment.",
                max_length=20,
                null=True,
            ),
        ),
        migrations.AddField(
            model_name="oauthapplication",
            name="is_first_party",
            field=models.BooleanField(
                default=False, help_text="True if this is a first-party PostHog application that skips OAuth consent"
            ),
        ),
        migrations.AddField(
            model_name="oauthapplication",
            name="auth_brand",
            field=models.CharField(
                choices=[("posthog", "posthog"), ("twig", "twig")],
                default="posthog",
                help_text="Branding to use on authentication pages",
                max_length=32,
            ),
        ),
        migrations.AddField(
            model_name="team",
            name="proactive_tasks_enabled",
            field=models.BooleanField(blank=True, null=True),
        ),
    ]
