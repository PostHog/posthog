# Generated by Django 3.2.18 on 2023-06-22 08:40

from django.db import migrations, models


def generate_bytecodes(apps, schema_editor):
    Action = apps.get_model("posthog", "Action")
    for action in Action.objects.all():
        try:
            action.refresh_bytecode()
        except Exception:
            pass


class Migration(migrations.Migration):

    dependencies = [
        ("posthog", "0330_add_autocapture_exceptions_events_to_ignore"),
    ]

    operations = [
        migrations.AddField(
            model_name="action",
            name="bytecode",
            field=models.JSONField(blank=True, default=list, null=True),
        ),
        migrations.RunPython(generate_bytecodes),
    ]
