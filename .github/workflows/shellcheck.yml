name: shellcheck

on:
    pull_request:
    merge_group:
    # allow this to be triggered after committing with the GITHUB_TOKEN
    repository_dispatch:
        types: [pr-update]

permissions:
    contents: read

jobs:
    shell_check:
        runs-on: ubuntu-latest
        name: shellcheck
        steps:
            - uses: actions/checkout@v4
            - name: Install shellcheck
              run: sudo apt update && sudo apt install -y shellcheck
            - name: Check secrets scripts
              run: cd bin && shellcheck deploy-hobby
