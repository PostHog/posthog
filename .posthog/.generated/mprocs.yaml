_posthog:
    intents:
        - product_analytics
procs:
    backend:
        shell: "echo '\u25B6 backend: always required (configure via: hogli dev:setup)'\
            \ && uv sync --active && bin/check_postgres_up && bin/check_kafka_clickhouse_up\
            \ && bin/check_ducklake_up && ./bin/start-backend"
    celery-worker:
        shell: "echo '\u25B6 celery-worker: needed for product_analytics (configure via:\
            \ hogli dev:setup)' && uv sync --active && bin/check_postgres_up && bin/check_kafka_clickhouse_up\
            \ && bin/check_ducklake_up && ./bin/start-celery worker"
    celery-beat:
        shell: "echo '\u25B6 celery-beat: always required (configure via: hogli dev:setup)'\
            \ && uv sync --active && bin/check_postgres_up && bin/check_kafka_clickhouse_up\
            \ && bin/check_ducklake_up && ./bin/start-celery beat"
    nodejs:
        shell: "echo '\u25B6 nodejs: needed for product_analytics (configure via: hogli\
            \ dev:setup)' && bin/check_postgres_up && bin/check_kafka_clickhouse_up && bin/check_ducklake_up\
            \ && ./bin/posthog-node"
    frontend:
        shell: "echo '\u25B6 frontend: always required (configure via: hogli dev:setup)'\
            \ && ./bin/start-frontend"
        autorestart: true
    typegen:
        shell: "echo '\u25B6 typegen: always required (configure via: hogli dev:setup)'\
            \ && cd frontend && pnpm run typegen:watch"
        autostart: false
    docker-compose:
        shell: "echo '\u25B6 docker-compose: core services only (configure via: hogli\
            \ dev:setup)' && docker compose -f docker-compose.dev.yml -f docker-compose.profiles.yml\
            \ up --pull always -d && docker compose -f docker-compose.dev.yml -f docker-compose.profiles.yml\
            \ logs --tail=0 -f"
    feature-flags:
        shell: "echo '\u25B6 feature-flags: always required (configure via: hogli dev:setup)'\
            \ && bin/check_postgres_up posthog && \\\nbin/start-rust-service feature-flags"
    property-defs-rs:
        shell: "echo '\u25B6 property-defs-rs: needed for product_analytics (configure\
            \ via: hogli dev:setup)' && bin/check_postgres_up && \\\nbin/check_kafka_clickhouse_up\
            \ && \\\nbin/start-rust-service property-defs-rs"
    capture:
        shell: "echo '\u25B6 capture: needed for product_analytics (configure via: hogli\
            \ dev:setup)' && bin/check_postgres_up && \\\nbin/check_kafka_clickhouse_up\
            \ && \\\nbin/start-rust-service capture"
    mcp:
        shell: bin/start-mcp-server
        autostart: false
    migrate-postgres:
        shell: "echo '\u25B6 migrate-postgres: needed for product_analytics (configure\
            \ via: hogli dev:setup)' && bin/check_postgres_up && bin/check_ducklake_up &&\
            \ bin/migrate --scope=postgres"
    migrate-clickhouse:
        shell: "echo '\u25B6 migrate-clickhouse: needed for product_analytics (configure\
            \ via: hogli dev:setup)' && bin/check_kafka_clickhouse_up && bin/check_ducklake_up\
            \ && bin/migrate --scope=clickhouse"
    generate-demo-data:
        shell: 'bin/check_postgres_up && \

            bin/check_kafka_clickhouse_up && \

            bin/check_ducklake_up && \

            ./manage.py generate_demo_data'
        autostart: false
    sync-feature-flags:
        shell: 'bin/check_postgres_up && \

            bin/check_ducklake_up && \

            ./manage.py sync_feature_flags'
        autostart: false
    storybook:
        shell: pnpm --filter=@posthog/storybook install && pnpm run storybook
        autostart: false
    hedgebox-dummy:
        shell: bin/check_postgres_up && cd hedgebox-dummy && pnpm install && pnpm run
            dev
        autostart: false
mouse_scroll_speed: 1
scrollback: 10000
